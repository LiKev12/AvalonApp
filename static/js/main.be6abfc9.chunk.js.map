{"version":3,"sources":["components/Pages/AboutPage/AboutPage.module.css","components/GameRoom/GameBoard/RoundTracker/RoundTracker.module.css","components/Pages/RulesPage/FeatureCards/FeatureCard/FeatureCard.module.css","components/Pages/AboutPage/AboutStatsGames/AboutStatsGames.module.css","components/Pages/AboutPage/AboutStatsUsers/AboutStatsUsers.module.css","components/Pages/Loading/LoadingSpinner.module.css","components/GameRoom/GameRoom.module.css","components/GameRoom/GameBoard/GameBoard.module.css","components/Lobby/LobbyModal/LobbyModal.module.css","components/Pages/RulesPage/RulesPage.module.css","components/Pages/StatsPage/StatsHeadToHead/StatsHeadToHead.module.css","components/GameRoom/GameEnterModal/GameEnterModal.module.css","components/GameRoom/GameCommon/GameNav/GameNav.module.css","components/GameRoom/GameCommon/GameNav/GameVotingRecord/GameVotingRecord.module.css","components/GameRoom/GameSetupModal/GameSetupModal.module.css","components/Lobby/LobbyPage.module.css","components/Lobby/LobbyTable/LobbyPrivateRoomModal/LobbyPrivateRoomModal.module.css","components/Pages/RulesPage/CharacterCards/CharacterCards.module.css","components/Pages/StatsPage/StatsPage.module.css","components/Pages/StatsPage/StatsIndividualHistory/StatsIndividualHistory.module.css","components/Lobby/LobbyTable/LobbyTable.module.css","components/Pages/StatsPage/StatsIndividualByRoles/StatsIndividualByRoles.module.css","components/Pages/StatsPage/StatsIndividualOverall/StatsIndividualOverall.module.css","components/Chat/Chat.module.css","actions/types.js","reducers/errorReducer.js","reducers/authReducer.js","reducers/index.js","store.js","actions/errorActions.js","actions/authActions.js","components/App/AppNavbar/NavLinks/NavLinks.js","components/Auth/LoginModal.js","components/App/AppNavbar/NavLinks/LogoutLink.js","components/Auth/RegisterModal.js","components/App/AppNavbar/AppNavbar.js","media/RoleAvatars/Assassin.png","media/RoleAvatars/DrunkMerlin.png","media/RoleAvatars/LoyalServant.png","media/RoleAvatars/Merlin.png","media/RoleAvatars/Minion.png","media/RoleAvatars/Mordred.png","media/RoleAvatars/Morgana.png","media/RoleAvatars/Oberon.png","media/RoleAvatars/Percival.png","media/RoleAvatars/Unknown.png","media/RoleAvatars/index.js","components/Pages/Loading/AvalonSpinner.png","components/Pages/Loading/LoadingSpinner.js","components/Pages/AboutPage/AboutPage.js","service/socket.js","components/Pages/AccessDeniedPage/AccessDeniedPage.js","components/GameRoom/GameBoard/PlayerCard/PlayerCard.js","media/Tokens/TokenRound.png","media/Tokens/TokenRound1.png","media/Tokens/TokenRound2.png","media/Tokens/TokenRound3.png","media/Tokens/TokenRound4.png","media/Tokens/TokenRound5.png","components/GameRoom/GameBoard/RoundTracker/RoundTracker.js","media/Tokens/TokenNull.png","media/Tokens/TokenPass.png","media/Tokens/TokenFail.png","components/GameRoom/GameBoard/MissionTracker/MissionTracker.js","constants/buttons.js","components/GameRoom/GameBoard/GameButtons/GameButtons.js","components/GameRoom/GameBoard/GameBoard.js","components/GameRoom/GameEnterModal/GameEnterModal.js","components/Chat/Chat.js","components/GameRoom/GameCommon/GameNav/GameTranscript/GameTranscript.js","components/GameRoom/GameCommon/GameNav/GameVotingRecord/GameVotingRecord.js","components/GameRoom/GameCommon/GameNav/GameNav.js","components/GameRoom/GameSetupModal/GameSetupValidator/GameSetupValidator.js","components/GameRoom/GameSetupModal/GameSetupModal.js","components/Pages/InvalidGamePage/InvalidGamePage.js","components/GameRoom/GameCommon/PlayersList/PlayersList.js","components/GameRoom/GameRoom.js","components/Lobby/LobbyModal/LobbyModal.js","components/Lobby/LobbyTable/LobbyPrivateRoomModal/LobbyPrivateRoomModal.js","components/Lobby/LobbyTable/LobbyTable.js","components/Lobby/LobbyPage.js","components/Pages/WelcomePage/WelcomePage.js","components/Pages/HomePage/HomePage.js","components/Pages/RulesPage/CharacterCards/CharacterCard/CharacterCard.js","components/Pages/RulesPage/CharacterCards/CharacterCards.js","components/Pages/RulesPage/FeatureCards/FeatureCard/FeatureCard.js","components/Pages/RulesPage/FeatureCards/FeatureCards.js","components/Pages/RulesPage/RulesPage.js","components/Pages/StatsPage/StatsIndividualByRoles/StatsIndividualByRoles.js","components/Pages/StatsPage/StatsIndividualHistory/StatsIndividualHistory.js","components/Pages/StatsPage/StatsIndividualOverall/StatsIndividualOverall.js","components/Pages/StatsPage/StatsHeadToHead/StatsHeadToHead.js","components/Pages/StatsPage/StatsPage.js","components/App/AppRoutes/AppRoutes.js","App.js","reportWebVitals.js","index.js","components/Pages/AboutPage/AboutLeaderboard/AboutLeaderboard.module.css","components/GameRoom/GameBoard/PlayerCard/PlayerCard.module.css","components/GameRoom/GameBoard/GameButtons/GameButtons.module.css","components/Pages/WelcomePage/WelcomePage.module.css","components/GameRoom/GameBoard/MissionTracker/MissionTracker.module.css","components/GameRoom/GameCommon/GameNav/GameTranscript/GameTranscript.module.css","components/Pages/RulesPage/CharacterCards/CharacterCard/CharacterCard.module.css"],"names":["module","exports","USER_LOADING","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_SUCCESS","REGISTER_FAIL","GET_ERRORS","CLEAR_ERRORS","initialState","msg","status","id","token","sessionStorage","getItem","isAuthenticated","isLoading","user","combineReducers","error","state","action","type","payload","auth","setItem","name","removeItem","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","returnErrors","clearErrors","tokenConfig","getState","config","headers","HomeLink","NavLink","href","AboutLink","RulesLink","StatsLink","LoginModal","modal","password","toggle","props","setState","onChange","e","target","value","onSubmit","preventDefault","login","prevProps","this","onClick","Modal","isOpen","ModalHeader","ModalBody","Alert","color","Form","FormGroup","Label","for","Input","placeholder","className","Button","style","marginTop","block","Component","connect","dispatch","body","JSON","stringify","axios","post","then","res","data","catch","err","response","LogoutLink","logout","RegisterModal","email","newUser","register","maxLength","AppNavbar","displayedUserName","sharedLinks","NavItem","authLinks","guestLinks","Navbar","dark","expand","Container","NavbarBrand","NavbarToggler","Collapse","navbar","Nav","Assassin","AssassinImage","DrunkMerlin","DrunkMerlinImage","LoyalServant","LoyalServantImage","Merlin","MerlinImage","Minion","MinionImage","Mordred","MordredImage","Morgana","MorganaImage","Oberon","OberonImage","Percival","PercivalImage","Unknown","UnknownImage","LoadingSpinner","classes","FullPageContainer","FullPageLoadingSpinner","src","Spinner","alt","AboutPage","isLoadingUsersOverTime","isLoadingGamesOverTime","isLoadingLeaderboard","usersOverTimeData","gamesOverTimeData","leaderboardData","AboutTextContainer","aboutSection","feedbackSection","fontStyle","Avatars","rel","socket","io","AccessDeniedPage","PlayerCard","player","player_idx","total_num_players","onClickPlayerCard","button","user_name","isSelected","isLeader","isHammer","isGivenExcalibur","isGivenLOTL","activeState","roleAppearsAs","teamAppearsAs","overrideStyle","getStyle","LeaderMarker","MissionMarker","ExcaliburMarker","LadyMarker","NameBanner","map_name_to_avatar","map_team_to_border","RESISTANCE","SPY","mapActiveState","IS_STILL_VOTING","IS_TARGETED_BY_EXCALIBUR","IS_TARGETED_BY_ASSASSIN","IS_TARGETED_BY_LOTL","degree_rotation","getDegreeRotation","RoundTracker","roundTrackerTokens","getRoundTrackerTokens","PropTypes","number","mapRoundToToken","0","RoundTrackerToken","1","RoundTrackerToken1","2","RoundTrackerToken2","3","RoundTrackerToken3","4","RoundTrackerToken4","5","RoundTrackerToken5","roundTrackerTokenCurrent","backgroundImage","getRoundTrackerToken","idx","current_round","tokens","forEach","push","MissionTracker","mission_idx","isPassed","num_spots_on_mission","num_fails_required","getMissionTrackerToken","mapMissionStatusToToken","null","MissionTrackerTokenNull","true","MissionTrackerTokenPass","false","MissionTrackerTokenFail","missionTrackerText","MissionTrackerText","MissionTrackerSubtext","MissionTrackerToken","PROPOSE","ROUND","MISSION","ASSASSINATE","GIVE_EXCALIBUR","USE_EXCALIBUR","CONFIRM_EXCALIBUR","USE_LOTL","CONFIRM_LOTL","GameButtons","buttonVisible","handleOnClick","isAffirmative","onHandleButtonClick","renderedGameButtons","_getVisibleButtons","team","BUTTON_CONSTANTS","Fragment","GameButtonDuo","GameBoard","renderedPlayerCards","getPlayerCards","getGameButtons","GameBackground","MISSION_TRACKER","ROUND_TRACKER","viewBoard","board","map","playerCardsData","length","gameButtonsData","key","GameEnterModal","onHandleJoin","onHandleEnter","onHandleSpectate","onHandleRejoin","room","hasStarted","isPlayerInGame","buttonRejoin","buttonJoin","buttonSpectate","gameEnterModalButtons","keyboard","backdrop","ModalFooter","ModalFooterCustom","Chat","message","chat","socketEventListeners","on","changeTableScroll","handleSubmitMessage","flag","emit","objDiv","document","getElementById","scrollTop","scrollHeight","handleKeyDown","handleMessageChange","renderedChatMessages","chatObj","ChatTimestamp","ChatUsername","ChatMessage","Table","borderless","size","OuterTableContainer","TableHeader","TableBodyContainer","TableBody","onKeyDown","GameTranscript","transcript","renderedTranscriptMessages","getMessagesFromTranscript","singleMessageText","centerStyle","textAlign","GameVotingRecord","voting_record","players","record","getTableHeaders","missionHeader","roundHeader","tableBody","getTableBody","TableContainer","bordered","order","missionNumber","colSpan","roundNumber","user_idx","tableRow","currRound","cellBackgroundColor","votesRound","cellBorder","leader","cellContents","cellStyle","backgroundColor","border","GameNav","activeTab","toggleActiveTab","newActiveTab","tabs","classnames","active","TabContent","TabPane","tabId","map_role_to_team","isRolesValid","setup","roles","num_players","numResistanceRoles","numSpyRoles","role","isTwoTeams","isLessThanHalfSPY","isPercivalAndMorganaValid","isPercivalSelected","includes","isMorganaSelected","isMerlinSelected","isDrunkMerlinValid","GameSetupModal","buttonDisabled","num_roles_added","error_msg","features","Excalibur","onChangeCheck","input","inputs","check_form_validation","final_setup","get_final_setup","onSetup","Object","keys","filter","difference","Number","i","role_inputs","CustomInput","label","checked","other_inputs","feature","disabled","InvalidGamePage","PlayersList","players_list","striped","playerObj","GameRoom","isValid","hasLocked","hasSetup","isRoomLeader","PLAYERS_LIST","VOTING_RECORD","TRANSCRIPT","_get_user_id","_get_room_id","match","params","room_id","_get_room_pwd","is_public","pwd","socket_event_listeners","hasEnded","roomLeaderId","boards","buttons","teams","user_id","room_pwd","onLeaveRoom","onLockRoom","onStart","target_idx","isApproved","isExcaliburUsed","_getIsPlayerInGame","_getRoomLeaderButton","roomLeaderButton","needWaitToLock","needSetup","needStart","onHandleInitialize","window","addEventListener","removeEventListener","setTimeout","preGameComponents","gameComponents","DEFAULT_STATE","is_rated","isCreated","success_msg","LobbyModal","handleClickPublic","handleClickRated","_generateArrBetweenEnds","lower","upper","arrBetweenEnds","toString","_generateRandomRoomID","lengthLimit","characters","charactersLength","charAt","Math","floor","random","_generateRandomRoomPassword","toggleModalButton","ToggleLobbyModalButton","settingRadioButtons","check","typeRadioButtons","createRoomButton","CreateRoomButton","successMsg","gameLinkButton","to","LobbyPrivateRoomModal","enteredPassword","enterButtonDisabled","handleEnterPassword","event","buttonName","buttonColor","LobbyTableButton","LobbyTable","table_body","LobbyTableCell","lobby_data","room_data","isPublicSetting","isRated","gameStatus","getGameStatus","tableButton","getTableButton","scope","LobbyPage","chatHeader","lobbyHeader","LobbyPageContainer","WelcomePage","spacing","OuterContainer","InnerContainer","InnerText","SubText","DisclaimerText","HomePage","CharacterCard","avatar","description","CharacterCardContainer","CharacterCardImageContainer","CharacterCardImage","CharacterCardTextContainer","descriptionPoint","CharacterCards","characterCardsProps","getCharacterCardsProps","CharacterCardsContainer","characterCardProps","FeatureCard","FeatureCardContainer","FeatureCardHeaderContainer","FeatureCardTextContainer","FeatureCards","featureCardsProps","getFeatureCardsProps","featureCardProps","RulesPage","charactersSection","featuresSection","rulesSection","RulesVideoContainer","title","StatsIndividualByRoles","byRoles","loadingRow","CellCenterText","noDataRow","placeholderRow","getTableBodyRows","byRolesTable","map_team_to_color","singleRowData","games_won","games_played","win_percentage","getWinPercentage","colorTeamAndRole","parseInt","round","COLOR_BLUE","COLOR_GREEN","COLOR_RED","StatsIndividualHistory","history","historyTable","date","result","dateText","getDateFormatted","settingText","typeText","numPlayersText","teamText","roleText","resultText","winningTeam","colorResult","dateTime","Date","toISOString","split","StatsIndividualOverall","overall","overallTable","TOTAL","colorTeam","StatsHeadToHead","enteredNames","headToHead","errorMsg","_get_user_name","isValidQuery","handleEnterNames","handlePressEnter","handleSearch","get","renderedErrorMessage","userNamesInput","InputGroup","onKeyPress","InputGroupAddon","addonType","tableBodyRows","renderedTableBodyRows","headToHeadTable","singlePlayerData","Player","Same","Different","gamesWonSameTeam","totalGamesPlayedSameTeam","winPercentageSameTeam","gamesWonDifferentTeam","totalGamesPlayedDifferentTeam","winPercentageDifferentTeam","verticalAlign","rowSpan","StatsPage","isLoadingRating","isLoadingStats","rating","_getHistoryData","_getOverallData","_getByRolesData","RatingBanner","RESISTANCE_GAMES_WON","RESISTANCE_GAMES_PLAYED","SPY_GAMES_WON","SPY_GAMES_PLAYED","singleGameData","uniqueRolesAndTeams","setOfUniqueRoles","Set","mapRoleToGamesWon","Map","mapRoleToGamesPlayed","has","set","add","byRolesData","roleAndTeam","sort","a","b","sharedRoutes","exact","path","component","render","authRoutes","guestRoutes","App","console","log","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.be6abfc9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"AboutPage\":\"AboutPage_AboutPage__265Bb\",\"Avatars\":\"AboutPage_Avatars__1-ES1\",\"AboutTextContainer\":\"AboutPage_AboutTextContainer__2_n2h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RoundTracker\":\"RoundTracker_RoundTracker__36oUr\",\"RoundTrackerToken\":\"RoundTracker_RoundTrackerToken__2n2iT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FeatureCardContainer\":\"FeatureCard_FeatureCardContainer__2nfDA\",\"FeatureCardHeaderContainer\":\"FeatureCard_FeatureCardHeaderContainer__-sxyO\",\"FeatureCardImage\":\"FeatureCard_FeatureCardImage__mG2fh\",\"FeatureCardTextContainer\":\"FeatureCard_FeatureCardTextContainer__1RoVE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChartOuterContainer\":\"AboutStatsGames_ChartOuterContainer__2ieJ_\",\"ChartInnerContainer\":\"AboutStatsGames_ChartInnerContainer__1LT9i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChartOuterContainer\":\"AboutStatsUsers_ChartOuterContainer__3NuSZ\",\"ChartInnerContainer\":\"AboutStatsUsers_ChartInnerContainer__1THWe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FullPageContainer\":\"LoadingSpinner_FullPageContainer__2zTrn\",\"FullPageLoadingSpinner\":\"LoadingSpinner_FullPageLoadingSpinner__3c75m\",\"spin\":\"LoadingSpinner_spin__cyfS6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"GameRoom_Button__2hnSU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameBoard\":\"GameBoard_GameBoard__7eOzF\",\"GameBackground\":\"GameBoard_GameBackground__QvTqp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ToggleLobbyModalButton\":\"LobbyModal_ToggleLobbyModalButton__1fdFb\",\"CreateRoomButton\":\"LobbyModal_CreateRoomButton__21tNV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RulesVideoContainer\":\"RulesPage_RulesVideoContainer__39rd9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CellCenterText\":\"StatsHeadToHead_CellCenterText__1QQPh\",\"CellCenterTextVertical\":\"StatsHeadToHead_CellCenterTextVertical__3mRrP\",\"TableContainer\":\"StatsHeadToHead_TableContainer__3-6oo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalFooterCustom\":\"GameEnterModal_ModalFooterCustom__35ouc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameNav\":\"GameNav_GameNav__8oISB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TableContainer\":\"GameVotingRecord_TableContainer__2f86_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"GameSetupModal_Button__2yOJQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LobbyPageContainer\":\"LobbyPage_LobbyPageContainer__33MOA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LobbyTableButton\":\"LobbyPrivateRoomModal_LobbyTableButton__2gqIZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CharacterCardsContainer\":\"CharacterCards_CharacterCardsContainer__2ZBwY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RatingBanner\":\"StatsPage_RatingBanner__1xx9e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CellCenterText\":\"StatsIndividualHistory_CellCenterText__3Gnjb\",\"TableContainer\":\"StatsIndividualHistory_TableContainer__3kmf0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LobbyTableCell\":\"LobbyTable_LobbyTableCell__2eYxG\",\"LobbyTableButton\":\"LobbyTable_LobbyTableButton__3yGEX\",\"TableContainer\":\"LobbyTable_TableContainer__30bBD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CellCenterText\":\"StatsIndividualByRoles_CellCenterText__OxnNC\",\"TableContainer\":\"StatsIndividualByRoles_TableContainer__3qDmC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CellCenterText\":\"StatsIndividualOverall_CellCenterText__IxGlE\",\"TableContainer\":\"StatsIndividualOverall_TableContainer__1TGTS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatTimestamp\":\"Chat_ChatTimestamp__50tkV\",\"ChatUsername\":\"Chat_ChatUsername__3bZP8\",\"ChatMessage\":\"Chat_ChatMessage__1j9oh\",\"OuterTableContainer\":\"Chat_OuterTableContainer__3JKwI\",\"TableHeader\":\"Chat_TableHeader__3h1Si\",\"TableBodyContainer\":\"Chat_TableBodyContainer__6HfYG\",\"TableBody\":\"Chat_TableBody__3YEIt\"};","export const USER_LOADING = 'USER_LOADING';\nexport const USER_LOADED = 'USER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\nexport const GET_ERRORS = 'GET_ERRORS';\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\n","import { GET_ERRORS, CLEAR_ERRORS } from '../actions/types';\n\nconst initialState = {\n    msg: {},\n    status: null,\n    id: null\n};\n\n// eslint-disable-next-line\nexport default function(state = initialState, action) {\n    switch (action.type) {\n        case GET_ERRORS:\n            return {\n                msg: action.payload.msg,\n                status: action.payload.status,\n                id: action.payload.id\n            };\n        case CLEAR_ERRORS:\n            return {\n                msg: {},\n                status: null,\n                id: null\n            };\n        default:\n            return state;\n    }\n}\n","import {\n    USER_LOADED,\n    USER_LOADING,\n    AUTH_ERROR,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL\n} from '../actions/types';\n\nconst initialState = {\n    token: sessionStorage.getItem('token'),\n    isAuthenticated: null,\n    isLoading: false,\n    user: null\n};\n\n// eslint-disable-next-line\nexport default function(state = initialState, action) {\n    switch (action.type) {\n        case USER_LOADING:\n            return {\n                ...state,\n                isLoading: true\n            };\n\n        case USER_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                isLoading: false,\n                user: action.payload.user\n            };\n\n        case LOGIN_SUCCESS:\n        case REGISTER_SUCCESS:\n            sessionStorage.setItem('token', action.payload.token);\n            sessionStorage.setItem('user_name', action.payload.user.name);\n            return {\n                ...state,\n                ...action.payload,\n                isAuthenticated: true,\n                isLoading: false\n            };\n\n        case AUTH_ERROR:\n        case LOGIN_FAIL:\n        case LOGOUT_SUCCESS:\n        case REGISTER_FAIL:\n            sessionStorage.removeItem('token');\n            sessionStorage.removeItem('user_name');\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuthenticated: false,\n                isLoading: false\n            };\n\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from 'redux';\n\nimport errorReducer from './errorReducer';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n    error: errorReducer,\n    auth: authReducer\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst middleware = [thunk];\nconst store = createStore(\n    rootReducer,\n    initialState,\n    compose(applyMiddleware(...middleware))\n    /**\n     * USE BELOW FOR DEVELOPMENT ONLY\n     */\n    // compose(\n    //     applyMiddleware(...middleware),\n    //     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n    // )\n);\n\nexport default store;\n","import { GET_ERRORS, CLEAR_ERRORS } from '../actions/types';\n\n// RETURN ERRORS\nexport const returnErrors = (msg, status, id = null) => {\n    return {\n        type: GET_ERRORS,\n        payload: { msg, status, id }\n    };\n};\n\n// CLEAR ERRORS\nexport const clearErrors = () => {\n    return {\n        type: CLEAR_ERRORS\n    };\n};\n","import axios from 'axios';\nimport { returnErrors } from './errorActions';\nimport {\n    USER_LOADED,\n    USER_LOADING,\n    AUTH_ERROR,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT_SUCCESS,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL\n} from './types';\n\n// Check token & load user\nexport const loadUser = () => (dispatch, getState) => {\n    // User loading\n    dispatch({ type: USER_LOADING });\n\n    axios\n        .get('/api/auth/user', tokenConfig(getState))\n        .then(res =>\n            dispatch({\n                type: USER_LOADED,\n                payload: res.data\n            })\n        )\n        .catch(err => {\n            dispatch(returnErrors(err.response.data, err.response.status));\n            dispatch({\n                type: AUTH_ERROR\n            });\n        });\n};\n\n// Register user\nexport const register = ({ name, email, password }) => dispatch => {\n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    // Request body\n    const body = JSON.stringify({ name, email, password });\n\n    axios\n        .post('/api/users', body, config)\n        .then(res =>\n            dispatch({\n                type: REGISTER_SUCCESS,\n                payload: res.data\n            })\n        )\n        .catch(err => {\n            dispatch(returnErrors(err.response.data, err.response.status, 'REGISTER_FAIL'));\n\n            dispatch({\n                type: REGISTER_FAIL\n            });\n        });\n};\n// Login User\nexport const login = ({ name, password }) => dispatch => {\n    // Headers\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    // Request body\n    const body = JSON.stringify({ name, password });\n\n    axios\n        .post('/api/auth', body, config)\n        .then(res =>\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: res.data\n            })\n        )\n        .catch(err => {\n            dispatch(returnErrors(err.response.data, err.response.status, 'LOGIN_FAIL'));\n\n            dispatch({\n                type: LOGIN_FAIL\n            });\n        });\n};\n\n// Logout User\nexport const logout = () => {\n    return {\n        type: LOGOUT_SUCCESS\n    };\n};\n\n// Setup config/headers and token\nexport const tokenConfig = getState => {\n    // Get token from localstorage\n    const token = getState().auth.token;\n\n    // Headers\n    const config = {\n        headers: {\n            'Content-type': 'application/json'\n        }\n    };\n\n    // If token, add to headers\n    if (token) {\n        config.headers['x-auth-token'] = token;\n    }\n\n    return config;\n};\n","import React from 'react';\nimport { NavLink } from 'reactstrap';\n\nexport function HomeLink() {\n    return (\n        <div>\n            <NavLink href='/'>Home</NavLink>\n        </div>\n    );\n}\n\nexport function AboutLink() {\n    return (\n        <div>\n            <NavLink href='https://likev12.github.io/AvalonApp/#/about'>About</NavLink>\n        </div>\n    );\n}\n\nexport function RulesLink() {\n    return (\n        <div>\n            <NavLink href='https://likev12.github.io/AvalonApp/#/rules'>Rules</NavLink>\n        </div>\n    );\n}\n\nexport function StatsLink() {\n    return (\n        <div>\n            <NavLink href='https://likev12.github.io/AvalonApp/#/stats'>Stats</NavLink>\n        </div>\n    );\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, NavLink, Alert } from 'reactstrap';\n\nimport { login } from '../../actions/authActions';\nimport { clearErrors } from '../../actions/errorActions';\n\nclass LoginModal extends Component {\n    state = {\n        modal: false,\n        name: '',\n        password: '',\n        msg: null\n    };\n\n    static propTypes = {\n        isAuthenticated: PropTypes.bool,\n        error: PropTypes.object.isRequired,\n        login: PropTypes.func.isRequired,\n        clearErrors: PropTypes.func.isRequired\n    };\n\n    componentDidUpdate(prevProps) {\n        const { error, isAuthenticated } = this.props;\n        if (error !== prevProps.error) {\n            if (error.id === 'LOGIN_FAIL') {\n                this.setState({ msg: error.msg.msg });\n            } else {\n                this.setState({ msg: null });\n            }\n        }\n\n        // If authenticated, close modal\n        if (this.state.modal) {\n            if (isAuthenticated) {\n                this.toggle();\n            }\n        }\n    }\n\n    toggle = () => {\n        this.props.clearErrors();\n        this.setState({\n            modal: !this.state.modal\n        });\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { name, password } = this.state;\n\n        const user = {\n            name,\n            password\n        };\n\n        // Attempt to login\n        this.props.login(user);\n    };\n\n    render() {\n        return (\n            <div>\n                <NavLink onClick={this.toggle} href=\"#\">\n                    Login\n                </NavLink>\n\n                <Modal isOpen={this.state.modal} toggle={this.toggle}>\n                    <ModalHeader toggle={this.toggle}>Login</ModalHeader>\n                    <ModalBody>\n                        {this.state.msg ? <Alert color=\"danger\">{this.state.msg}</Alert> : null}\n                        <Form onSubmit={this.onSubmit}>\n                            <FormGroup>\n                                <Label for=\"name\">Username</Label>\n                                <Input\n                                    type=\"text\"\n                                    name=\"name\"\n                                    id=\"name\"\n                                    placeholder=\"Username\"\n                                    className=\"mb-3\"\n                                    onChange={this.onChange}\n                                />\n                                <Label for=\"password\">Password</Label>\n                                <Input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    id=\"password\"\n                                    placeholder=\"Password\"\n                                    className=\"mb-3\"\n                                    onChange={this.onChange}\n                                />\n                                <Button color=\"dark\" style={{ marginTop: '2rem' }} block>\n                                    Login\n                                </Button>\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    error: state.error\n});\n\nexport default connect(mapStateToProps, { login, clearErrors })(LoginModal);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { NavLink } from 'reactstrap';\nimport { logout } from '../../../../actions/authActions';\n\nexport class LogoutLink extends Component {\n    render() {\n        return (\n            <Fragment>\n                <NavLink onClick={this.props.logout} href=\"/\">\n                    Logout\n                </NavLink>\n            </Fragment>\n        );\n    }\n}\n\nLogoutLink.propTypes = {\n    logout: PropTypes.func.isRequired\n};\n\nexport default connect(null, { logout })(LogoutLink);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, NavLink, Alert } from 'reactstrap';\n\nimport { register } from '../../actions/authActions';\nimport { clearErrors } from '../../actions/errorActions';\n\nclass RegisterModal extends Component {\n    state = {\n        modal: false,\n        name: '',\n        email: '',\n        password: '',\n        msg: null\n    };\n\n    componentDidUpdate(prevProps) {\n        const { error, isAuthenticated } = this.props;\n        if (error !== prevProps.error) {\n            if (error.id === 'REGISTER_FAIL') {\n                this.setState({ msg: error.msg.msg });\n            } else {\n                this.setState({ msg: null });\n            }\n        }\n\n        // If authenticated, close modal\n        if (this.state.modal) {\n            if (isAuthenticated) {\n                this.toggle();\n            }\n        }\n    }\n\n    toggle = () => {\n        this.props.clearErrors();\n        this.setState({\n            modal: !this.state.modal\n        });\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { name, email, password } = this.state;\n\n        // Create user object\n        const newUser = {\n            name,\n            email,\n            password\n        };\n\n        // Attempt to register\n        this.props.register(newUser);\n    };\n\n    render() {\n        return (\n            <div>\n                <NavLink onClick={this.toggle} href=\"#\">\n                    Register\n                </NavLink>\n\n                <Modal isOpen={this.state.modal} toggle={this.toggle}>\n                    <ModalHeader toggle={this.toggle}>Register</ModalHeader>\n                    <ModalBody>\n                        {this.state.msg ? <Alert color=\"danger\">{this.state.msg} </Alert> : null}\n                        <Form onSubmit={this.onSubmit}>\n                            <FormGroup>\n                                <Label for=\"name\">Username</Label>\n                                <Input\n                                    type=\"text\"\n                                    name=\"name\"\n                                    id=\"name\"\n                                    placeholder=\"Name\"\n                                    className=\"mb-3\"\n                                    onChange={this.onChange}\n                                    maxLength={15}\n                                />\n                                <Label for=\"email\">Email</Label>\n                                <Input\n                                    type=\"email\"\n                                    name=\"email\"\n                                    id=\"email\"\n                                    placeholder=\"Email\"\n                                    className=\"mb-3\"\n                                    onChange={this.onChange}\n                                />\n                                <Label for=\"password\">Password</Label>\n                                <Input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    id=\"password\"\n                                    placeholder=\"Password\"\n                                    className=\"mb-3\"\n                                    onChange={this.onChange}\n                                />\n                                <Button color=\"dark\" style={{ marginTop: '2rem' }} block>\n                                    Register\n                                </Button>\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nRegisterModal.propTypes = {\n    isAuthenticated: PropTypes.bool,\n    error: PropTypes.object.isRequired,\n    register: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated,\n    error: state.error\n});\n\nexport default connect(mapStateToProps, { register, clearErrors })(RegisterModal);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, Container } from 'reactstrap';\n\nimport { HomeLink, AboutLink, RulesLink, StatsLink } from './NavLinks/NavLinks';\nimport LoginModal from '../../Auth/LoginModal';\nimport LogoutLink from './NavLinks/LogoutLink';\nimport RegisterModal from '../../Auth/RegisterModal';\n\nclass AppNavbar extends Component {\n    state = {\n        isOpen: false\n    };\n\n    toggle = () => {\n        this.setState({\n            isOpen: !this.state.isOpen\n        });\n    };\n\n    render() {\n        const { isAuthenticated } = this.props.auth;\n        const displayedUserName = this.props.auth && this.props.auth.user ? this.props.auth.user.name : '';\n\n        const sharedLinks = (\n            <Fragment>\n                <NavItem>\n                    <HomeLink />\n                </NavItem>\n                <NavItem>\n                    <AboutLink />\n                </NavItem>\n                <NavItem>\n                    <RulesLink />\n                </NavItem>\n            </Fragment>\n        );\n\n        const authLinks = (\n            <Fragment>\n                <NavItem>\n                    <span className=\"navbar-text mr-3\">\n                        <strong>{`Welcome ${displayedUserName}`}</strong>\n                    </span>\n                </NavItem>\n                {sharedLinks}\n                <NavItem>\n                    <StatsLink />\n                </NavItem>\n                <NavItem>\n                    <LogoutLink />\n                </NavItem>\n            </Fragment>\n        );\n\n        const guestLinks = (\n            <Fragment>\n                {sharedLinks}\n                <NavItem>\n                    <RegisterModal />\n                </NavItem>\n                <NavItem>\n                    <LoginModal />\n                </NavItem>\n            </Fragment>\n        );\n        return (\n            <div>\n                <Navbar color=\"dark\" dark expand=\"sm\">\n                    <Container>\n                        <NavbarBrand href=\"/\">Avalon</NavbarBrand>\n                        <NavbarToggler onClick={this.toggle} />\n                        <Collapse isOpen={this.state.isOpen} navbar>\n                            <Nav className=\"ml-auto\" navbar>\n                                {isAuthenticated ? authLinks : guestLinks}\n                            </Nav>\n                        </Collapse>\n                    </Container>\n                </Navbar>\n            </div>\n        );\n    }\n}\n\nAppNavbar.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps, null)(AppNavbar);\n","export default __webpack_public_path__ + \"static/media/Assassin.5a5d7bc4.png\";","export default __webpack_public_path__ + \"static/media/DrunkMerlin.8f7762fb.png\";","export default __webpack_public_path__ + \"static/media/LoyalServant.119ec312.png\";","export default __webpack_public_path__ + \"static/media/Merlin.e3edb5d5.png\";","export default __webpack_public_path__ + \"static/media/Minion.da0a369a.png\";","export default __webpack_public_path__ + \"static/media/Mordred.03c972d0.png\";","export default __webpack_public_path__ + \"static/media/Morgana.c08a9b92.png\";","export default __webpack_public_path__ + \"static/media/Oberon.49ff93ae.png\";","export default __webpack_public_path__ + \"static/media/Percival.c47c4ea0.png\";","export default __webpack_public_path__ + \"static/media/Unknown.448807e5.png\";","import AssassinImage from './Assassin.png';\nimport DrunkMerlinImage from './DrunkMerlin.png';\nimport LoyalServantImage from './LoyalServant.png';\nimport MerlinImage from './Merlin.png';\nimport MinionImage from './Minion.png';\nimport MordredImage from './Mordred.png';\nimport MorganaImage from './Morgana.png';\nimport OberonImage from './Oberon.png';\nimport PercivalImage from './Percival.png';\nimport UnknownImage from './Unknown.png';\n\nexport const Assassin = AssassinImage;\nexport const DrunkMerlin = DrunkMerlinImage;\nexport const LoyalServant = LoyalServantImage;\nexport const Merlin = MerlinImage;\nexport const Minion = MinionImage;\nexport const Mordred = MordredImage;\nexport const Morgana = MorganaImage;\nexport const Oberon = OberonImage;\nexport const Percival = PercivalImage;\nexport const Unknown = UnknownImage;\n","export default __webpack_public_path__ + \"static/media/AvalonSpinner.48e2424c.png\";","import React from 'react';\nimport classes from './LoadingSpinner.module.css';\nimport Spinner from './AvalonSpinner.png';\n\nconst LoadingSpinner = props => {\n    return (\n        <div className={classes.FullPageContainer}>\n            <img className={classes.FullPageLoadingSpinner} src={Spinner} alt=\"loading\" />\n        </div>\n    );\n};\n\nexport default LoadingSpinner;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport classes from './AboutPage.module.css';\nimport { Container } from 'reactstrap';\n\nimport { Merlin, Percival } from '../../../media/RoleAvatars';\nimport AboutLeaderboard from './AboutLeaderboard/AboutLeaderboard';\nimport AboutStatsGames from './AboutStatsGames/AboutStatsGames';\nimport AboutStatsUsers from './AboutStatsUsers/AboutStatsUsers';\nimport LoadingSpinner from '../Loading/LoadingSpinner';\n\nclass AboutPage extends Component {\n    state = {\n        //\n        isLoadingUsersOverTime: false,\n        isLoadingGamesOverTime: true,\n        isLoadingLeaderboard: false,\n        usersOverTimeData: null,\n        gamesOverTimeData: null,\n        leaderboardData: null,\n    };\n\n    componentDidMount() {\n        // // 1) Get Users data over time (New Users and Total Users)\n        // axios.get(`/api/users/getUsersOverTime`).then((res) => {\n        //     const usersOverTimeData = res.data;\n        //     this.setState({\n        //         isLoadingUsersOverTime: false,\n        //         usersOverTimeData,\n        //     });\n        // });\n        // // 2) Get Games data over time (New Games and Total Games)\n        // axios.get(`/api/games/getGamesOverTime`).then((res) => {\n        //     const gamesOverTimeData = res.data;\n        //     this.setState({\n        //         isLoadingGamesOverTime: false,\n        //         gamesOverTimeData,\n        //     });\n        // });\n        // // 3) Get users with the topK (set to 5) ratings\n        // const ratingsTopK = 5;\n        // axios.get(`/api/ratings/topRatings/${ratingsTopK}`).then((res) => {\n        //     const leaderboardData = res.data;\n        //     this.setState({\n        //         isLoadingLeaderboard: false,\n        //         leaderboardData,\n        //     });\n        // });\n    }\n\n    render() {\n        const {\n            isLoadingUsersOverTime,\n            isLoadingGamesOverTime,\n            isLoadingLeaderboard,\n            usersOverTimeData,\n            gamesOverTimeData,\n            leaderboardData,\n        } = this.state;\n\n        if (isLoadingUsersOverTime || isLoadingGamesOverTime || isLoadingLeaderboard) {\n            return <LoadingSpinner />;\n        }\n\n        return (\n            <div className={classes.AboutPage}>\n                <Container>\n                    <hr />\n                    <h3>About the App</h3>\n                    <hr />\n                    {/* <AboutStatsUsers usersOverTimeData={usersOverTimeData} /> */}\n                    {/* <AboutStatsGames gamesOverTimeData={gamesOverTimeData} /> */}\n                    <hr />\n                    {/* <AboutLeaderboard leaderboardData={leaderboardData} /> */}\n                    <hr />\n                    <div className={classes.AboutTextContainer}>\n                        {aboutSection}\n                        {feedbackSection}\n                    </div>\n                </Container>\n            </div>\n        );\n    }\n}\n\nexport default AboutPage;\n\nconst aboutSection = (\n    <div>\n        <h4>This was a fun project done by 2 friends in quarantine during the Covid-19 Pandemic.</h4>\n        <h5>\n            <div style={{ fontStyle: 'italic' }}>\n                ~ Art and design credits to a secret Merlin, coded by her Percival ~\n            </div>\n        </h5>\n        <div className={classes.Avatars}>\n            <img src={Merlin} alt='Merlin' />\n            <img src={Percival} alt='Percival' />\n        </div>\n    </div>\n);\n\nconst feedbackSection = (\n    <h6>\n        Feel free to leave feedback{' '}\n        <a href={`mailto:avalon.app.game@gmail.com?subject=AvalonApp`} target='_blank' rel='noopener noreferrer'>\n            here\n        </a>\n        . GitHub link{' '}\n        <a href='https://github.com/LiKev12/AvalonApp' target='_blank' rel='noopener noreferrer'>\n            here\n        </a>\n        .\n    </h6>\n);\n","import io from 'socket.io-client';\nexport const socket = io();\n","import React, { Component } from 'react';\nimport { Alert, Container } from 'reactstrap';\n\nclass AccessDeniedPage extends Component {\n    render() {\n        return (\n            <div>\n                <Container>\n                    <Alert color=\"danger\" style={{ marginTop: '2rem' }}>\n                        Please log in to view.\n                    </Alert>\n                </Container>\n            </div>\n        );\n    }\n}\n\nexport default AccessDeniedPage;\n","import React from 'react';\nimport classes from './PlayerCard.module.css';\nimport PropTypes from 'prop-types';\nimport {\n    Assassin,\n    DrunkMerlin,\n    LoyalServant,\n    Merlin,\n    Minion,\n    Mordred,\n    Morgana,\n    Oberon,\n    Percival,\n    Unknown\n} from '../../../../media/RoleAvatars';\n\nconst PlayerCard = props => {\n    const { player, player_idx, total_num_players, onClickPlayerCard, button } = props;\n    const {\n        user_name,\n        isSelected,\n        isLeader,\n        isHammer,\n        isGivenExcalibur,\n        isGivenLOTL,\n        activeState,\n        roleAppearsAs,\n        teamAppearsAs\n    } = player;\n    const overrideStyle = getStyle(teamAppearsAs, roleAppearsAs, activeState, player_idx, total_num_players, button);\n    const displayedUserName = isHammer ? `\\u2606${user_name}` : user_name;\n    return (\n        <div className={classes.PlayerCard} style={overrideStyle} onClick={() => onClickPlayerCard(player_idx)}>\n            {isLeader ? <div className={classes.LeaderMarker}></div> : null}\n            {isSelected ? <div className={classes.MissionMarker}></div> : null}\n            {isGivenExcalibur ? <div className={classes.ExcaliburMarker}></div> : null}\n            {isGivenLOTL ? <div className={classes.LadyMarker}></div> : null}\n            <div className={classes.NameBanner}>{displayedUserName}</div>\n        </div>\n    );\n};\n\nPlayerCard.propTypes = {\n    /**\n     * player:\n     * { user_name, isSelected, isLeader, isHammer, isGivenExcalibur, isGivenLOTL, activeState, roleAppearsAs, teamAppearsAs }\n     */\n    player: PropTypes.object,\n    player_idx: PropTypes.number,\n    total_num_players: PropTypes.number,\n    onClickPlayerCard: PropTypes.func,\n    button: PropTypes.string\n};\n\nexport default PlayerCard;\n\nconst map_name_to_avatar = {\n    Assassin,\n    DrunkMerlin,\n    LoyalServant,\n    Percival,\n    Merlin,\n    Minion,\n    Mordred,\n    Morgana,\n    Oberon,\n    Unknown\n};\nconst map_team_to_border = {\n    RESISTANCE: '5px solid #7EC8E3',\n    SPY: '5px solid #f75454'\n};\n\nconst mapActiveState = {\n    IS_STILL_VOTING: '0 0 20px yellow',\n    IS_TARGETED_BY_EXCALIBUR: '0 0 20px purple',\n    IS_TARGETED_BY_ASSASSIN: '0 0 20px red',\n    IS_TARGETED_BY_LOTL: '0 0 20px #00FFFF'\n};\n\nconst getDegreeRotation = (player_idx, total_num_players) => {\n    let increment = 360 / total_num_players;\n    let initial_degree = 270;\n    let degree_rotation = initial_degree + increment * player_idx;\n\n    return degree_rotation;\n};\n\nconst getStyle = (teamAppearsAs, roleAppearsAs, activeState, player_idx, total_num_players) => {\n    let overrideStyle = {};\n    overrideStyle['border'] = map_team_to_border[teamAppearsAs];\n    overrideStyle['backgroundImage'] = `url(${map_name_to_avatar[roleAppearsAs]})`;\n    if (activeState) {\n        overrideStyle['boxShadow'] = mapActiveState[activeState];\n    }\n\n    let degree_rotation = getDegreeRotation(player_idx, total_num_players);\n    overrideStyle['transform'] = `rotate(${degree_rotation}deg) translate(320px) rotate(${-degree_rotation}deg)`;\n    return overrideStyle;\n};\n","export default __webpack_public_path__ + \"static/media/TokenRound.03c12dcd.png\";","export default __webpack_public_path__ + \"static/media/TokenRound1.fd700c31.png\";","export default __webpack_public_path__ + \"static/media/TokenRound2.9f388a6e.png\";","export default __webpack_public_path__ + \"static/media/TokenRound3.53a49c8e.png\";","export default __webpack_public_path__ + \"static/media/TokenRound4.7178df17.png\";","export default __webpack_public_path__ + \"static/media/TokenRound5.be5aa5fb.png\";","import React, { Fragment } from 'react';\nimport classes from './RoundTracker.module.css';\nimport PropTypes from 'prop-types';\n\nimport RoundTrackerToken from '../../../../media/Tokens/TokenRound.png';\nimport RoundTrackerToken1 from '../../../../media/Tokens/TokenRound1.png';\nimport RoundTrackerToken2 from '../../../../media/Tokens/TokenRound2.png';\nimport RoundTrackerToken3 from '../../../../media/Tokens/TokenRound3.png';\nimport RoundTrackerToken4 from '../../../../media/Tokens/TokenRound4.png';\nimport RoundTrackerToken5 from '../../../../media/Tokens/TokenRound5.png';\n\nconst RoundTracker = props => {\n    const roundTrackerTokens = getRoundTrackerTokens(props.data);\n    return <div className={classes.RoundTracker}>{roundTrackerTokens}</div>;\n};\n\nRoundTracker.props = {\n    data: PropTypes.number\n};\n\nexport default RoundTracker;\n\nconst mapRoundToToken = {\n    0: RoundTrackerToken,\n    1: RoundTrackerToken1,\n    2: RoundTrackerToken2,\n    3: RoundTrackerToken3,\n    4: RoundTrackerToken4,\n    5: RoundTrackerToken5\n};\n\nconst roundTrackerTokenCurrent = (\n    <div className={classes.RoundTrackerToken} style={{ backgroundImage: `url(${RoundTrackerToken})` }}></div>\n);\n\nconst getRoundTrackerToken = idx => {\n    return (\n        <div className={classes.RoundTrackerToken} style={{ backgroundImage: `url(${mapRoundToToken[idx]})` }}></div>\n    );\n};\n\nconst getRoundTrackerTokens = current_round => {\n    const tokens = [];\n    const order = [1, 2, 3, 4, 5];\n    order.forEach(idx => {\n        if (idx === current_round) {\n            tokens.push(<Fragment key={idx}>{roundTrackerTokenCurrent}</Fragment>);\n        } else {\n            tokens.push(<Fragment key={idx}>{getRoundTrackerToken(idx)}</Fragment>);\n        }\n    });\n    return tokens;\n};\n","export default __webpack_public_path__ + \"static/media/TokenNull.06cb4858.png\";","export default __webpack_public_path__ + \"static/media/TokenPass.058ecf61.png\";","export default __webpack_public_path__ + \"static/media/TokenFail.fbbf1c0c.png\";","import React from 'react';\nimport classes from './MissionTracker.module.css';\nimport PropTypes from 'prop-types';\n\nimport MissionTrackerTokenNull from '../../../../media/Tokens/TokenNull.png';\nimport MissionTrackerTokenPass from '../../../../media/Tokens/TokenPass.png';\nimport MissionTrackerTokenFail from '../../../../media/Tokens/TokenFail.png';\n\nconst MissionTracker = props => {\n    const order = [1, 2, 3, 4, 5];\n    const tokens = [];\n    order.forEach(mission_idx => {\n        const { isPassed, num_spots_on_mission, num_fails_required } = props.data[mission_idx];\n        const token = getMissionTrackerToken(isPassed, num_spots_on_mission, num_fails_required);\n        tokens.push(<div key={mission_idx}>{token}</div>);\n    });\n    return <div className={classes.MissionTracker}>{tokens}</div>;\n};\n\nMissionTracker.propTypes = {\n    /**\n     * data:\n     * {\n            1: { isPassed, num_spots_on_mission, num_fails_required }\n            2: { isPassed, num_spots_on_mission, num_fails_required }\n            3: { isPassed, num_spots_on_mission, num_fails_required }\n            4: { isPassed, num_spots_on_mission, num_fails_required }\n            5: { isPassed, num_spots_on_mission, num_fails_required }\n        };\n     */\n    data: PropTypes.object\n};\n\nexport default MissionTracker;\n\nconst mapMissionStatusToToken = {\n    null: MissionTrackerTokenNull,\n    true: MissionTrackerTokenPass,\n    false: MissionTrackerTokenFail\n};\n\nconst getMissionTrackerToken = (isPassed, num_spots_on_mission, num_fails_required) => {\n    const missionTrackerText = (\n        <div className={classes.MissionTrackerText}>\n            {num_spots_on_mission}\n            {num_fails_required > 1 ? <sub className={classes.MissionTrackerSubtext}>{num_fails_required}</sub> : null}\n        </div>\n    );\n\n    return (\n        <div\n            className={classes.MissionTrackerToken}\n            style={{ backgroundImage: `url(${mapMissionStatusToToken[isPassed]})` }}\n        >\n            {missionTrackerText}\n        </div>\n    );\n};\n","/* propose */\nexport const PROPOSE = 'propose';\n\n/* round */\nexport const ROUND = 'round';\nexport const APPROVE = 'approve';\nexport const REJECT = 'reject';\n\n/* mission */\nexport const MISSION = 'mission';\nexport const PASS = 'pass';\nexport const FAIL = 'fail';\n\n/* assassinate */\nexport const ASSASSINATE = 'assassinate';\n\n/* give_excalibur */\nexport const GIVE_EXCALIBUR = 'give_excalibur';\nexport const GIVE_EXCALIBUR_TEXT = 'give excalibur';\n\n/* use_excalibur */\nexport const USE_EXCALIBUR = 'use_excalibur';\nexport const USE_EXCALIBUR_TEXT = 'use excalibur';\n\n/* skip_excalibur */\nexport const SKIP_EXCALIBUR = 'skip_excalibur';\nexport const SKIP_EXCALIBUR_TEXT = 'skip excalibur';\n\n/* confirm_excalibur */\nexport const CONFIRM_EXCALIBUR = 'confirm_excalibur';\nexport const CONFIRM_EXCALIBUR_PASS = 'confirm_excalibur_pass';\nexport const CONFIRM_EXCALIBUR_PASS_TEXT = 'Target player vote changed to pass';\nexport const CONFIRM_EXCALIBUR_FAIL = 'confirm_excalibur_fail';\nexport const CONFIRM_EXCALIBUR_FAIL_TEXT = 'Target player vote changed to fail';\n\n/* use_lotl */\nexport const USE_LOTL = 'use_lotl';\nexport const USE_LOTL_TEXT = 'inquisit';\n\n/* confirm_lotl */\nexport const CONFIRM_LOTL = 'confirm_lotl';\nexport const CONFIRM_LOTL_RESISTANCE = 'confirm_lotl_resistance';\nexport const CONFIRM_LOTL_SPY = 'confirm_lotl_spy';\nexport const CONFIRM_LOTL_RESISTANCE_TEXT = 'Player is Resistance';\nexport const CONFIRM_LOTL_SPY_TEXT = 'Player is Spy';\n","import React, { Component } from 'react';\nimport classes from './GameButtons.module.css';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport * as BUTTON_CONSTANTS from '../../../../constants/buttons';\n\nclass GameButtons extends Component {\n    state = {\n        buttonVisible: true\n    };\n\n    handleOnClick = (button, isAffirmative) => {\n        this.props.onHandleButtonClick(button, isAffirmative);\n        this.setState({\n            buttonVisible: !this.state.buttonVisible\n        });\n    };\n\n    render() {\n        const renderedGameButtons = this.state.buttonVisible\n            ? _getVisibleButtons(this.props.button, this.props.team, this.props.onHandleButtonClick, this.handleOnClick)\n            : null;\n        return <div className={classes.GameButtons}>{renderedGameButtons}</div>;\n    }\n}\n\nGameButtons.propTypes = {\n    button: PropTypes.string\n};\n\nexport default GameButtons;\n\nconst _getVisibleButtons = (button, team, onHandleButtonClick, handleOnClick) => {\n    if (button === BUTTON_CONSTANTS.ROUND) {\n        return (\n            <React.Fragment>\n                <Button\n                    color=\"success\"\n                    className={classes.GameButtonDuo}\n                    onClick={() => handleOnClick(BUTTON_CONSTANTS.ROUND, true)}\n                >\n                    {BUTTON_CONSTANTS.APPROVE}\n                </Button>\n                <Button\n                    color=\"danger\"\n                    className={classes.GameButtonDuo}\n                    onClick={() => handleOnClick(BUTTON_CONSTANTS.ROUND, false)}\n                >\n                    {BUTTON_CONSTANTS.REJECT}\n                </Button>\n            </React.Fragment>\n        );\n    } else if (button === BUTTON_CONSTANTS.MISSION) {\n        return (\n            <React.Fragment>\n                <Button\n                    color=\"success\"\n                    className={classes.GameButtonDuo}\n                    onClick={() => handleOnClick(BUTTON_CONSTANTS.MISSION, true)}\n                >\n                    {BUTTON_CONSTANTS.PASS}\n                </Button>\n                {team === 'SPY' && (\n                    <Button\n                        color=\"danger\"\n                        className={classes.GameButtonDuo}\n                        onClick={() => handleOnClick(BUTTON_CONSTANTS.MISSION, false)}\n                    >\n                        {BUTTON_CONSTANTS.FAIL}\n                    </Button>\n                )}\n            </React.Fragment>\n        );\n    } else if (button === BUTTON_CONSTANTS.PROPOSE) {\n        return (\n            <Button color=\"info\" onClick={() => handleOnClick(BUTTON_CONSTANTS.PROPOSE)}>\n                {BUTTON_CONSTANTS.PROPOSE}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.ASSASSINATE) {\n        return (\n            <Button color=\"danger\" onClick={() => handleOnClick(BUTTON_CONSTANTS.ASSASSINATE)}>\n                {BUTTON_CONSTANTS.ASSASSINATE}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.GIVE_EXCALIBUR) {\n        return (\n            <Button color=\"info\" onClick={() => handleOnClick(BUTTON_CONSTANTS.GIVE_EXCALIBUR)}>\n                {BUTTON_CONSTANTS.GIVE_EXCALIBUR_TEXT}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.USE_EXCALIBUR) {\n        return (\n            <Button color=\"info\" onClick={() => handleOnClick(BUTTON_CONSTANTS.USE_EXCALIBUR, true)}>\n                {BUTTON_CONSTANTS.USE_EXCALIBUR_TEXT}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.SKIP_EXCALIBUR) {\n        return (\n            <Button color=\"secondary\" onClick={() => handleOnClick(BUTTON_CONSTANTS.USE_EXCALIBUR, false)}>\n                {BUTTON_CONSTANTS.SKIP_EXCALIBUR_TEXT}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.CONFIRM_EXCALIBUR_PASS) {\n        return (\n            <Button color=\"warning\" onClick={() => handleOnClick(BUTTON_CONSTANTS.CONFIRM_EXCALIBUR)}>\n                {BUTTON_CONSTANTS.CONFIRM_EXCALIBUR_PASS_TEXT}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.CONFIRM_EXCALIBUR_FAIL) {\n        return (\n            <Button color=\"warning\" onClick={() => handleOnClick(BUTTON_CONSTANTS.CONFIRM_EXCALIBUR)}>\n                {BUTTON_CONSTANTS.CONFIRM_EXCALIBUR_FAIL_TEXT}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.USE_LOTL) {\n        return (\n            <Button color=\"info\" onClick={() => onHandleButtonClick(BUTTON_CONSTANTS.USE_LOTL)}>\n                {BUTTON_CONSTANTS.USE_LOTL_TEXT}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.CONFIRM_LOTL_RESISTANCE) {\n        return (\n            <Button color=\"secondary\" onClick={() => onHandleButtonClick(BUTTON_CONSTANTS.CONFIRM_LOTL)}>\n                {BUTTON_CONSTANTS.CONFIRM_LOTL_RESISTANCE_TEXT}\n            </Button>\n        );\n    } else if (button === BUTTON_CONSTANTS.CONFIRM_LOTL_SPY) {\n        return (\n            <Button color=\"secondary\" onClick={() => onHandleButtonClick(BUTTON_CONSTANTS.CONFIRM_LOTL)}>\n                {BUTTON_CONSTANTS.CONFIRM_LOTL_SPY_TEXT}\n            </Button>\n        );\n    }\n    return null;\n};\n","import React from 'react';\nimport classes from './GameBoard.module.css';\nimport PropTypes from 'prop-types';\n\nimport PlayerCard from './PlayerCard/PlayerCard';\nimport RoundTracker from './RoundTracker/RoundTracker';\nimport MissionTracker from './MissionTracker/MissionTracker';\nimport GameButtons from './GameButtons/GameButtons';\n\nconst GameBoard = props => {\n    // PlayerCards\n    let renderedPlayerCards = getPlayerCards(props);\n\n    // GameButtons\n    let renderedGameButtons = getGameButtons(props);\n\n    return (\n        <div className={classes.GameBackground}>\n            <div className={classes.GameBoard}>\n                {renderedPlayerCards}\n                <MissionTracker data={props.MISSION_TRACKER} />\n                <RoundTracker data={props.ROUND_TRACKER} />\n                {renderedGameButtons}\n            </div>\n        </div>\n    );\n};\n\nGameBoard.propTypes = {\n    /**\n     * board:\n     * [{ isLeader, isSelected, isHammer, isGivenExcalibur, isGivenLOTL, activeState, roleAppearsAs, teamAppearsAs }]\n     */\n    board: PropTypes.array,\n    button: PropTypes.string,\n    team: PropTypes.string,\n    /**\n     * MISSION_TRACKER:\n     * {\n            1: { isPassed, num_spots_on_mission, num_fails_required }\n            2: { isPassed, num_spots_on_mission, num_fails_required }\n            3: { isPassed, num_spots_on_mission, num_fails_required }\n            4: { isPassed, num_spots_on_mission, num_fails_required }\n            5: { isPassed, num_spots_on_mission, num_fails_required }\n        };\n     */\n    MISSION_TRACKER: PropTypes.object,\n    ROUND_TRACKER: PropTypes.number,\n    onClickPlayerCard: PropTypes.func,\n    onHandleButtonClick: PropTypes.func\n};\n\nexport default GameBoard;\n\nconst getPlayerCards = props => {\n    const viewBoard = props.board;\n    const renderedPlayerCards = viewBoard.map((player, player_idx) => {\n        let playerCardsData = {\n            player,\n            player_idx,\n            total_num_players: viewBoard.length,\n            onClickPlayerCard: props.onClickPlayerCard\n        };\n        return <PlayerCard key={player_idx} {...playerCardsData} />;\n    });\n    return renderedPlayerCards;\n};\n\nconst getGameButtons = props => {\n    const { button, team } = props;\n    const { onHandleButtonClick } = props;\n    const gameButtonsData = {\n        button,\n        team,\n        onHandleButtonClick\n    };\n    return <GameButtons {...gameButtonsData} key={button} />;\n};\n","import React, { Component } from 'react';\nimport classes from './GameEnterModal.module.css';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalFooter } from 'reactstrap';\n\nclass GameEnterModal extends Component {\n    state = {\n        modal: true\n    };\n\n    toggle = () => {\n        this.setState({\n            modal: !this.state.modal\n        });\n    };\n\n    onHandleJoin = () => {\n        this.props.onHandleEnter();\n        this.toggle();\n    };\n\n    onHandleSpectate = () => {\n        this.props.onHandleSpectate();\n        this.toggle();\n    };\n\n    onHandleRejoin = () => {\n        this.toggle();\n    };\n\n    render() {\n        const { room, hasStarted, isPlayerInGame } = this.props;\n\n        const buttonRejoin = (\n            <Button color=\"success\" block onClick={this.onHandleRejoin}>\n                Rejoin\n            </Button>\n        );\n\n        const buttonJoin = (\n            <Button color=\"success\" block onClick={this.onHandleJoin}>\n                Join\n            </Button>\n        );\n\n        const buttonSpectate = (\n            <Button color=\"info\" block onClick={this.onHandleSpectate}>\n                Spectate\n            </Button>\n        );\n\n        let gameEnterModalButtons = null;\n        if (hasStarted) {\n            if (isPlayerInGame) {\n                gameEnterModalButtons = buttonRejoin;\n            } else {\n                gameEnterModalButtons = buttonSpectate;\n            }\n        } else {\n            gameEnterModalButtons = (\n                <div>\n                    {buttonJoin}\n                    {buttonSpectate}\n                </div>\n            );\n        }\n        return (\n            <div>\n                <Modal isOpen={this.state.modal} toggle={this.toggle} keyboard={false} backdrop={'static'}>\n                    <ModalHeader>Welcome to game {room}</ModalHeader>\n                    <ModalFooter className={classes.ModalFooterCustom}>{gameEnterModalButtons}</ModalFooter>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nGameEnterModal.propTypes = {\n    room: PropTypes.string,\n    hasStarted: PropTypes.bool,\n    isPlayerInGame: PropTypes.bool,\n    onHandleEnter: PropTypes.func,\n    onHandleSpectate: PropTypes.func\n};\n\nexport default GameEnterModal;\n","import React, { Component } from 'react';\nimport classes from './Chat.module.css';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Table, Input, FormGroup } from 'reactstrap';\nimport { socket } from '../../service/socket';\n\nexport class Chat extends Component {\n    state = {\n        message: '',\n        chat: []\n    };\n\n    componentDidMount() {\n        const data = { flag: 'get', room: this.props.room };\n        socket.emit('server_get_chat', data);\n        this.socketEventListeners();\n    }\n\n    socketEventListeners = () => {\n        socket.on('client_get_chat', chat => {\n            this.setState(\n                {\n                    chat\n                },\n                () => {\n                    this.changeTableScroll();\n                }\n            );\n        });\n    };\n\n    handleSubmitMessage = e => {\n        e.preventDefault();\n\n        // Don't allow submitting empty messages\n        if (this.state.message.length === 0) return;\n\n        // Send data with message to server\n        const user_name = this.props.auth && this.props.auth.user ? this.props.auth.user.name : '';\n        const data = {\n            flag: 'msg',\n            msg: this.state.message,\n            user_name: user_name,\n            room: this.props.room\n        };\n        this.setState({\n            message: ''\n        });\n        socket.emit('server_get_chat', data);\n    };\n\n    changeTableScroll = () => {\n        let objDiv = document.getElementById('chat_body_id');\n        objDiv.scrollTop = objDiv.scrollHeight;\n    };\n\n    handleKeyDown = e => {\n        if (e.key === 'Enter') {\n            this.handleSubmitMessage(e);\n        }\n    };\n\n    handleMessageChange = e => {\n        this.setState({\n            message: e.target.value\n        });\n    };\n\n    render() {\n        const renderedChatMessages = this.state.chat.map((chatObj, idx) => (\n            <tr key={idx}>\n                <td className={classes.ChatTimestamp}>{chatObj['timestamp']}</td>\n                <td className={classes.ChatUsername}>{chatObj['user_name']}</td>\n                <td className={classes.ChatMessage}>{chatObj['message']}</td>\n            </tr>\n        ));\n        return (\n            <div>\n                <Table borderless size=\"sm\" className={classes.OuterTableContainer}>\n                    <thead>\n                        <tr>\n                            <td>\n                                <Table className={classes.TableHeader}>\n                                    <thead>\n                                        <tr>\n                                            <th className={classes.ChatTimestamp}></th>\n                                            <th className={classes.ChatUsername}></th>\n                                            <th className={classes.ChatMessage}></th>\n                                        </tr>\n                                    </thead>\n                                </Table>\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>\n                                <div className={classes.TableBodyContainer} id=\"chat_body_id\">\n                                    <Table className={classes.TableBody}>\n                                        <tbody>{renderedChatMessages}</tbody>\n                                    </Table>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </Table>\n                <FormGroup>\n                    <Input\n                        type=\"textarea\"\n                        name=\"text\"\n                        placeholder=\"Enter chat message here...\"\n                        value={this.state.message}\n                        onChange={this.handleMessageChange}\n                        onKeyDown={this.handleKeyDown}\n                    />\n                </FormGroup>\n            </div>\n        );\n    }\n}\n\nChat.propTypes = {\n    auth: PropTypes.object.isRequired,\n    room: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(Chat);\n\n// Table Design: https://stackoverflow.com/questions/14834198/table-scroll-with-html-and-css\n// Table Auto-scroll: https://stackoverflow.com/questions/7303948/how-to-auto-scroll-to-end-of-div-when-data-is-added\n","import React, { Component } from 'react';\nimport classes from './GameTranscript.module.css';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\n\nexport class GameTranscript extends Component {\n    changeTableScroll = () => {\n        let objDiv = document.getElementById('transcript_body_id');\n        objDiv.scrollTop = objDiv.scrollHeight;\n    };\n\n    componentDidUpdate() {\n        this.changeTableScroll();\n    }\n\n    render() {\n        const { transcript } = this.props;\n        const renderedTranscriptMessages = getMessagesFromTranscript(transcript);\n        return (\n            <div>\n                <Table borderless size=\"sm\" className={classes.OuterTableContainer}>\n                    <thead>\n                        <tr>\n                            <td>\n                                <Table className={classes.TableHeader}>\n                                    <thead>\n                                        <tr>\n                                            <th />\n                                        </tr>\n                                    </thead>\n                                </Table>\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>\n                                <div className={classes.TableBodyContainer} id=\"transcript_body_id\">\n                                    <Table className={classes.TableBody}>\n                                        <tbody>{renderedTranscriptMessages}</tbody>\n                                    </Table>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </Table>\n            </div>\n        );\n    }\n}\n\nGameTranscript.propTypes = {\n    transcript: PropTypes.array\n};\n\nexport default GameTranscript;\n\nconst getMessagesFromTranscript = transcript => {\n    if (!transcript) {\n        return [];\n    }\n\n    const transcriptMessages = transcript.map((singleMessageText, idx) => (\n        <tr key={idx}>\n            <td>{singleMessageText}</td>\n        </tr>\n    ));\n\n    return transcriptMessages;\n};\n","import React from 'react';\nimport classes from './GameVotingRecord.module.css';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\n\nconst CHECKMARK = '\\u2713';\nconst APPROVE_COLOR = 'rgb(171, 255, 183)';\nconst REJECT_COLOR = 'rgb(255, 186, 184)';\nconst centerStyle = { textAlign: 'center' };\n\nconst GameVotingRecord = props => {\n    const { voting_record } = props;\n    const { players, record } = voting_record;\n\n    const { missionHeader, roundHeader } = getTableHeaders();\n    const tableBody = getTableBody(players, record);\n\n    const gameVotingRecordTable = (\n        <div className={classes.TableContainer}>\n            <Table dark bordered>\n                <thead>\n                    <tr key=\"mission_header\">{missionHeader}</tr>\n                    <tr key=\"round_header\">{roundHeader}</tr>\n                </thead>\n                <tbody>{tableBody}</tbody>\n            </Table>\n        </div>\n    );\n    return gameVotingRecordTable;\n};\n\nGameVotingRecord.propTypes = {\n    /**\n     * voting_record: {players: [user_name], record: {1:1:{leader, team: [true], votesRound: [false]}}}\n     */\n    voting_record: PropTypes.object\n};\n\nexport default GameVotingRecord;\n\nconst getTableHeaders = () => {\n    const order = [1, 2, 3, 4, 5];\n    const missionHeader = [\n        <th key=\"mission_header_prefix\" style={centerStyle}>\n            Mission\n        </th>\n    ];\n    const roundHeader = [\n        <th key=\"round_header_prefix\" style={centerStyle}>\n            Round\n        </th>\n    ];\n    order.forEach(missionNumber => {\n        missionHeader.push(\n            <th key={`M${missionNumber}`} colSpan={5} style={centerStyle}>\n                {missionNumber}\n            </th>\n        );\n        order.forEach(roundNumber => {\n            roundHeader.push(\n                <th key={`M${missionNumber}R${roundNumber}`} style={centerStyle}>\n                    {roundNumber}\n                </th>\n            );\n        });\n    });\n    return {\n        missionHeader,\n        roundHeader\n    };\n};\n\nconst getTableBody = (players, record) => {\n    // row by row\n    const order = [1, 2, 3, 4, 5];\n    const tableBody = [];\n    players.forEach((user_name, user_idx) => {\n        const tableRow = [];\n        tableRow.push(\n            <th key={user_idx} style={centerStyle}>\n                {user_name}\n            </th>\n        );\n        order.forEach(missionNumber => {\n            order.forEach(roundNumber => {\n                const isRoundCompleted = !!record[missionNumber][roundNumber];\n                if (isRoundCompleted) {\n                    // Push a normal game obj\n                    const currRound = record[missionNumber][roundNumber];\n                    const cellBackgroundColor = currRound.votesRound[user_idx] ? APPROVE_COLOR : REJECT_COLOR; // votesRound\n                    const cellBorder = currRound.leader === user_idx ? '3px solid black' : '1px solid'; // leader\n                    const cellContents = currRound.team[user_idx] ? CHECKMARK : ''; // team\n                    const cellStyle = {\n                        backgroundColor: cellBackgroundColor,\n                        border: cellBorder,\n                        color: 'black',\n                        textAlign: 'center'\n                    };\n                    tableRow.push(\n                        <th key={`M${missionNumber}R${roundNumber}`} style={cellStyle}>\n                            {cellContents}\n                        </th>\n                    );\n                } else {\n                    // Push a blank tile\n                    tableRow.push(<th key={`M${missionNumber}R${roundNumber}`} />);\n                }\n            });\n        });\n        tableBody.push(<tr key={user_idx}>{tableRow}</tr>);\n    });\n    return tableBody;\n};\n","import React, { Component } from 'react';\nimport classes from './GameNav.module.css';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\n\nimport GameChat from '../../../Chat/Chat';\nimport GameTranscript from './GameTranscript/GameTranscript';\nimport GameVotingRecord from './GameVotingRecord/GameVotingRecord';\n\nexport class GameNav extends Component {\n    state = {\n        activeTab: 'Transcript'\n    };\n\n    toggleActiveTab = newActiveTab => {\n        this.setState({\n            activeTab: newActiveTab\n        });\n    };\n\n    render() {\n        return (\n            <div className={classes.GameNav}>\n                <Nav tabs>\n                    <NavItem>\n                        <NavLink\n                            onClick={() => {\n                                this.toggleActiveTab('Transcript');\n                            }}\n                            className={classnames({ active: this.state.activeTab === 'Transcript' })}\n                        >\n                            Transcript\n                        </NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink\n                            onClick={() => {\n                                this.toggleActiveTab('Record');\n                            }}\n                            className={classnames({ active: this.state.activeTab === 'Record' })}\n                        >\n                            Record\n                        </NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink\n                            onClick={() => {\n                                this.toggleActiveTab('Chat');\n                            }}\n                            className={classnames({ active: this.state.activeTab === 'Chat' })}\n                        >\n                            Chat\n                        </NavLink>\n                    </NavItem>\n                </Nav>\n                <TabContent activeTab={this.state.activeTab}>\n                    <TabPane tabId=\"Transcript\">\n                        <GameTranscript transcript={this.props.transcript} />\n                    </TabPane>\n                    <TabPane tabId=\"Record\">\n                        <GameVotingRecord voting_record={this.props.voting_record} />\n                    </TabPane>\n                    <TabPane tabId=\"Chat\">\n                        <GameChat room={this.props.room} />\n                    </TabPane>\n                </TabContent>\n            </div>\n        );\n    }\n}\n\nGameNav.propTypes = {\n    room: PropTypes.string,\n    voting_record: PropTypes.object,\n    transcript: PropTypes.array\n};\n\nexport default GameNav;\n","const map_role_to_team = {\n    Merlin: 'RESISTANCE',\n    Percival: 'RESISTANCE',\n    DrunkMerlin: 'RESISTANCE',\n    LoyalServant: 'RESISTANCE',\n    Assassin: 'SPY',\n    Morgana: 'SPY',\n    Oberon: 'SPY',\n    Mordred: 'SPY',\n    Minion: 'SPY'\n};\n\nexport const isRolesValid = setup => {\n    // 1) Check to see if there is at least 1 RESISTANCE and 1 SPY in the game\n    const { roles, num_players } = setup;\n    let numResistanceRoles = 0;\n    let numSpyRoles = 0;\n    roles.forEach(role => {\n        if (map_role_to_team[role] === 'RESISTANCE') {\n            numResistanceRoles++;\n        } else if (map_role_to_team[role] === 'SPY') {\n            numSpyRoles++;\n        }\n    });\n    const isTwoTeams = numResistanceRoles > 0 && numSpyRoles > 0;\n\n    // 2) Check to see if less than half (strictly) of the players are SPY\n    const isLessThanHalfSPY = numSpyRoles < (num_players + 1) / 2;\n\n    // 3) Check to see if Percival and Morgana are included together (must include Merlin as well)\n    let isPercivalAndMorganaValid = true;\n    const isPercivalSelected = roles.includes('Percival');\n    const isMorganaSelected = roles.includes('Morgana');\n    const isMerlinSelected = roles.includes('Merlin');\n    if (isPercivalSelected || isMorganaSelected) {\n        isPercivalAndMorganaValid = isPercivalSelected && isMorganaSelected && isMerlinSelected;\n    }\n\n    // 4) DrunkMerlin can only be included when Merlin is included\n    let isDrunkMerlinValid = true;\n    const isDrunkMerlinSelected = roles.includes('DrunkMerlin');\n    if (isDrunkMerlinSelected) {\n        isDrunkMerlinValid = isMerlinSelected;\n    }\n\n    const isRolesValidCheck = isTwoTeams && isLessThanHalfSPY && isPercivalAndMorganaValid && isDrunkMerlinValid;\n    return isRolesValidCheck;\n};\n\nexport const isFeaturesValid = setup => {\n    return true; // for now, maybe need to limit Excalibur and LOTL\n};\n","import React, { Component } from 'react';\nimport classes from './GameSetupModal.module.css';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, CustomInput, Alert } from 'reactstrap';\n\nimport { isRolesValid, isFeaturesValid } from './GameSetupValidator/GameSetupValidator';\n\nclass GameSetupModal extends Component {\n    state = {\n        modal: false,\n        buttonDisabled: false,\n        num_roles_added: 0,\n        error_msg: null,\n        roles: {\n            Merlin: true,\n            Assassin: true,\n            Percival: true,\n            Morgana: true,\n            Mordred: false,\n            Oberon: false,\n            Minion: false,\n            DrunkMerlin: false\n        },\n        features: {\n            Excalibur: false,\n            'Lady of the Lake': false\n        }\n    };\n\n    toggle = () => {\n        this.setState({\n            modal: !this.state.modal\n        });\n    };\n\n    onChangeCheck = (e, input) => {\n        let inputs = { ...this.state[input] };\n        inputs[e.target.name] = !inputs[e.target.name];\n        this.setState({ [input]: inputs });\n    };\n\n    check_form_validation() {\n        let num_roles_added = Object.keys(this.state.roles).filter(role => this.state.roles[role]).length;\n        return this.props.num_players - num_roles_added >= 0;\n    }\n\n    get_final_setup() {\n        // Convert object into array of roles\n        let roles = Object.keys(this.state.roles).filter(role => this.state.roles[role]);\n\n        // Add LoyalServants to fill the difference\n        let difference = Number(this.props.num_players) - Number(roles.length);\n        for (let i = 0; i < difference; i++) {\n            roles.push('LoyalServant');\n        }\n\n        const features = this.state.features;\n\n        let setup = {\n            roles,\n            features,\n            num_players: this.props.num_players\n        };\n        return setup;\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n        // Handle form validation\n        // 1) passesSanityCheck: Checks to see if number of roles added does not exceed num_players\n        const passesSanityCheck = this.check_form_validation();\n        if (!passesSanityCheck) {\n            this.setState({\n                error_msg: 'Invalid game setup. Please try again.'\n            });\n            return;\n        }\n        // 2) passesGameplayCheck: Checks to see if setup is within gameplay guidelines\n        const final_setup = this.get_final_setup();\n        const passesGameplayCheck = isRolesValid(final_setup) && isFeaturesValid(final_setup);\n        if (!passesGameplayCheck) {\n            this.setState({\n                error_msg: 'Invalid game setup. Please try again.'\n            });\n            return;\n        }\n        // Successful setup, continue with game\n        this.props.onSetup(final_setup);\n        this.setState({\n            buttonDisabled: true\n        });\n        this.toggle();\n    };\n\n    render() {\n        const role_inputs = Object.keys(this.state.roles).map((role, idx) => {\n            return (\n                <div key={idx}>\n                    <CustomInput\n                        type=\"checkbox\"\n                        id={role}\n                        name={role}\n                        label={role}\n                        onChange={e => this.onChangeCheck(e, 'roles')}\n                        checked={this.state.roles[role]}\n                    />\n                </div>\n            );\n        });\n\n        const other_inputs = Object.keys(this.state.features).map((feature, idx) => {\n            return (\n                <div key={idx}>\n                    <CustomInput\n                        type=\"checkbox\"\n                        id={feature}\n                        name={feature}\n                        label={feature}\n                        onChange={e => this.onChangeCheck(e, 'features')}\n                        checked={this.state.features[feature]}\n                    />\n                </div>\n            );\n        });\n\n        return (\n            <div>\n                <Button\n                    className={classes.Button}\n                    block\n                    disabled={this.state.buttonDisabled}\n                    color=\"dark\"\n                    onClick={this.toggle}\n                >\n                    Create Game\n                </Button>\n\n                <Modal isOpen={this.state.modal} toggle={this.toggle}>\n                    <ModalHeader toggle={this.toggle}>Create a Game</ModalHeader>\n                    <ModalBody>\n                        {this.state.error_msg ? <Alert color=\"danger\">{this.state.error_msg} </Alert> : null}\n                        <Form onSubmit={this.onSubmit}>\n                            <FormGroup>\n                                <Label for=\"role_selection\">Number of Players: {this.props.num_players}</Label>\n                                <hr />\n                                <Label for=\"role_selection\">Roles:</Label>\n                                {role_inputs}\n                                <hr />\n                                <Label for=\"role_selection\">Other:</Label>\n                                {other_inputs}\n                                <Button\n                                    color=\"dark\"\n                                    block\n                                    disabled={this.state.buttonDisabled}\n                                    style={{ marginTop: '2rem' }}\n                                >\n                                    Submit\n                                </Button>\n                            </FormGroup>\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nGameSetupModal.propTypes = {\n    num_players: PropTypes.number,\n    onSetup: PropTypes.func\n};\n\nexport default GameSetupModal;\n","import React, { Component } from 'react';\nimport { Alert, Container } from 'reactstrap';\n\nclass InvalidGamePage extends Component {\n    render() {\n        return (\n            <div>\n                <Container>\n                    <Alert color=\"danger\" style={{ marginTop: '2rem' }}>\n                        Invalid room ID. Please make sure to create the room in the lobby first.\n                    </Alert>\n                </Container>\n            </div>\n        );\n    }\n}\n\nexport default InvalidGamePage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\n\nconst PlayersList = props => {\n    const { players_list } = props;\n    if (!players_list || players_list.length === 0) {\n        return null;\n    }\n    return (\n        <div>\n            <hr />\n            <h3>Players</h3>\n            <hr />\n            <Table striped bordered>\n                <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Name</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {players_list.map((playerObj, idx) => {\n                        const { user_name } = playerObj;\n                        return (\n                            <tr key={idx}>\n                                <td>{idx + 1}</td>\n                                <td>\n                                    {user_name}\n                                    {idx === 0 ? ' (Leader)' : null}\n                                </td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </Table>\n        </div>\n    );\n};\n\nPlayersList.propTypes = {\n    players_list: PropTypes.array\n};\n\nexport default PlayersList;\n","import React, { Component } from 'react';\nimport classes from './GameRoom.module.css';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { socket } from '../../service/socket';\nimport { Button, Container } from 'reactstrap';\n\nimport AccessDeniedPage from '../Pages/AccessDeniedPage/AccessDeniedPage';\nimport GameBoard from './GameBoard/GameBoard';\nimport GameEnterModal from './GameEnterModal/GameEnterModal';\nimport GameNav from './GameCommon/GameNav/GameNav';\nimport GameSetupModal from './GameSetupModal/GameSetupModal';\nimport InvalidGamePage from '../Pages/InvalidGamePage/InvalidGamePage';\nimport LoadingSpinner from '../Pages/Loading/LoadingSpinner';\nimport PlayersList from './GameCommon/PlayersList/PlayersList';\n\nexport class GameRoom extends Component {\n    state = {\n        /**\n         * purely for client-side (need to wait for socket request to come back, timeout => socket => update state)\n         */\n        isLoading: true,\n        /**\n         * if game is created on server side\n         */\n        isValid: false,\n        /**\n         * if hasLocked, show GameSetupModal\n         */\n        hasLocked: false,\n        /**\n         * if hasSetup, show StartGame\n         */\n        hasSetup: false,\n        /**\n         * if !hasStarted, show PlayersList\n         */\n        hasStarted: false,\n        /**\n         * isRoomLeader is the first person in the players list\n         */\n        isRoomLeader: false,\n        /**\n         * single view - board\n         */\n        board: null,\n        /**\n         * button can be { propose, round, mission, assassinate }\n         */\n        button: null,\n        /**\n         * team is either RESISTANCE or SPY\n         */\n        team: null,\n\n        /**\n         * PLAYERS_LIST list of players before game has started\n         */\n        PLAYERS_LIST: null,\n\n        /**\n         * MISSION_TRACKER tracks mission pass/fails\n         */\n        MISSION_TRACKER: null,\n\n        /**\n         * ROUND_TRACKER tracks rounds\n         */\n        ROUND_TRACKER: null,\n\n        /**\n         * VOTING_RECORD tracks voting through all rounds and missions\n         */\n        VOTING_RECORD: null,\n\n        /**\n         * TRANSCRIPT records all the actions played within the game\n         */\n        TRANSCRIPT: null\n    };\n\n    componentDidMount() {\n        this.onHandleInitialize();\n        this.socket_event_listeners();\n        window.addEventListener('beforeunload', this.onLeaveRoom);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onLeaveRoom); // remove the event handler for normal unmounting\n    }\n\n    _get_user_id = () => {\n        const user_id = this.props.auth && this.props.auth.user ? this.props.auth.user.id : null;\n        return user_id;\n    };\n\n    _get_room_id = () => {\n        const room_id = this.props.match.params.room_id;\n        return room_id;\n    };\n\n    _get_room_pwd = () => {\n        const { is_public } = this.props;\n        if (is_public) {\n            // No room_pwd for public games\n            return null;\n        } else {\n            return this.props.match.params.pwd;\n        }\n    };\n\n    socket_event_listeners = () => {\n        socket.on('client_game_view_data', data => {\n            const { isValid, hasLocked, hasSetup, hasStarted, hasEnded, roomLeaderId } = data;\n            const { boards, buttons, teams } = data;\n            const { PLAYERS_LIST, MISSION_TRACKER, ROUND_TRACKER, VOTING_RECORD, TRANSCRIPT } = data;\n\n            const user_id = this._get_user_id();\n            let board = null;\n            let button = null;\n            let team = null;\n            if (boards) {\n                board = boards[user_id] ? boards[user_id] : boards['spectate'];\n            }\n            if (buttons) {\n                button = buttons[user_id] ? buttons[user_id] : null;\n            }\n            if (teams) {\n                team = teams[user_id] ? teams[user_id] : null;\n            }\n            const isRoomLeader = user_id === roomLeaderId;\n            this.setState({\n                isLoading: false,\n                isValid,\n                //\n                hasLocked,\n                hasSetup,\n                hasStarted,\n                hasEnded,\n                isRoomLeader,\n                // Single\n                board,\n                button,\n                team,\n                // Common\n                PLAYERS_LIST,\n                MISSION_TRACKER,\n                ROUND_TRACKER,\n                VOTING_RECORD,\n                TRANSCRIPT\n            });\n        });\n        socket.on('client_game_invalid_or_unauthorized', () => {\n            this.setState({\n                isLoading: false\n            });\n        });\n    };\n\n    onHandleInitialize() {\n        setTimeout(() => {\n            const user_id = this._get_user_id();\n            const room_id = this._get_room_id();\n            const room_pwd = this._get_room_pwd();\n            const data = {\n                user_id,\n                room_id,\n                room_pwd\n            };\n            socket.emit('server_game_handle_INITIALIZE', data);\n        }, 1000);\n    }\n\n    onHandleEnter = () => {\n        const user_id = this._get_user_id();\n        const user_name = this.props.auth && this.props.auth.user ? this.props.auth.user.name : null;\n        const room_id = this._get_room_id();\n        const room_pwd = this._get_room_pwd();\n\n        const data = {\n            user_id,\n            user_name,\n            room_id,\n            room_pwd\n        };\n        socket.emit('server_game_handle_ENTER', data);\n    };\n\n    onHandleSpectate = () => {\n        const user_id = this._get_user_id();\n        const room_id = this._get_room_id();\n        const room_pwd = this._get_room_pwd();\n        const data = {\n            user_id,\n            room_id,\n            room_pwd\n        };\n        socket.emit('server_game_handle_SPECTATE', data);\n    };\n\n    onLeaveRoom = () => {\n        const room_id = this._get_room_id();\n        const user_id = this._get_user_id();\n        const room_pwd = this._get_room_pwd();\n\n        const data = {\n            user_id,\n            room_id,\n            room_pwd\n        };\n        socket.emit('server_game_handle_LEAVE', data);\n    };\n\n    onLockRoom = () => {\n        const room_id = this._get_room_id();\n        const user_id = this._get_user_id();\n        const room_pwd = this._get_room_pwd();\n\n        const data = {\n            user_id,\n            room_id,\n            room_pwd\n        };\n        socket.emit('server_game_handle_LOCK', data);\n    };\n\n    onSetup = setup => {\n        const room_id = this._get_room_id();\n        const user_id = this._get_user_id();\n        const room_pwd = this._get_room_pwd();\n\n        const data = {\n            user_id,\n            room_id,\n            room_pwd,\n            setup\n        };\n        socket.emit('server_game_handle_SETUP', data);\n    };\n\n    onStart = () => {\n        const user_id = this._get_user_id();\n        const room_id = this._get_room_id();\n        const room_pwd = this._get_room_pwd();\n\n        const data = {\n            user_id,\n            room_id,\n            room_pwd\n        };\n        socket.emit('server_game_handle_START', data);\n    };\n\n    onClickPlayerCard = target_idx => {\n        const room_id = this._get_room_id();\n        const user_id = this._get_user_id();\n        const room_pwd = this._get_room_pwd();\n\n        const data = {\n            user_id,\n            room_id,\n            room_pwd,\n            target_idx\n        };\n        socket.emit('server_game_handle_SELECT', data);\n    };\n\n    onHandleButtonClick = (button, isAffirmative) => {\n        const room_id = this._get_room_id();\n        const user_id = this._get_user_id();\n        const room_pwd = this._get_room_pwd();\n\n        const data = {\n            user_id,\n            room_id,\n            room_pwd\n        };\n        if (button === 'propose') {\n            socket.emit('server_game_handle_PROPOSE', data);\n        } else if (button === 'round') {\n            data.isApproved = isAffirmative;\n            socket.emit('server_game_handle_ROUND', data);\n        } else if (button === 'mission') {\n            data.isPassed = isAffirmative;\n            socket.emit('server_game_handle_MISSION', data);\n        } else if (button === 'assassinate') {\n            socket.emit('server_game_handle_ASSASSINATE', data);\n        } else if (button === 'give_excalibur') {\n            socket.emit('server_game_handle_GIVE_EXCALIBUR', data);\n        } else if (button === 'use_excalibur') {\n            data.isExcaliburUsed = isAffirmative;\n            socket.emit('server_game_handle_USE_EXCALIBUR', data);\n        } else if (button === 'confirm_excalibur') {\n            socket.emit('server_game_handle_CONFIRM_EXCALIBUR', data);\n        } else if (button === 'use_lotl') {\n            socket.emit('server_game_handle_USE_LOTL', data);\n        } else if (button === 'confirm_lotl') {\n            socket.emit('server_game_handle_CONFIRM_LOTL', data);\n        }\n    };\n\n    _getIsPlayerInGame = () => {\n        // If PLAYERS_LIST contains user_id\n        const { PLAYERS_LIST } = this.state;\n        if (!PLAYERS_LIST) {\n            return false;\n        }\n        const user_id = this._get_user_id();\n        const arrPlayerWithUserId = PLAYERS_LIST.filter(playerObj => {\n            return playerObj.user_id === user_id;\n        });\n        const isPlayerInGame = arrPlayerWithUserId.length > 0;\n        return isPlayerInGame;\n    };\n\n    _getRoomLeaderButton = () => {\n        const { hasLocked, hasSetup, hasStarted, isRoomLeader, PLAYERS_LIST } = this.state;\n        let roomLeaderButton = null;\n        if (isRoomLeader) {\n            const needWaitToLock = PLAYERS_LIST && (PLAYERS_LIST.length < 5 || PLAYERS_LIST.length > 12);\n            const needLock = !hasLocked;\n            const needSetup = hasLocked && !hasSetup;\n            const needStart = hasSetup && !hasStarted;\n            if (needLock) {\n                roomLeaderButton = (\n                    <Button\n                        className={classes.Button}\n                        block\n                        disabled={needWaitToLock}\n                        color=\"warning\"\n                        onClick={this.onLockRoom}\n                    >\n                        Lock\n                    </Button>\n                );\n            } else if (needSetup) {\n                roomLeaderButton = (\n                    <GameSetupModal num_players={this.state.PLAYERS_LIST.length} onSetup={this.onSetup} />\n                );\n            } else if (needStart) {\n                roomLeaderButton = (\n                    <Button className={classes.Button} block color=\"success\" onClick={this.onStart}>\n                        Start\n                    </Button>\n                );\n            }\n        }\n        return roomLeaderButton;\n    };\n\n    render() {\n        // Check if loading\n        const { isLoading } = this.state;\n        if (isLoading) {\n            return <LoadingSpinner />;\n        }\n\n        // Check if authenticated\n        const { isAuthenticated } = this.props.auth;\n        if (!isAuthenticated) {\n            return <AccessDeniedPage />;\n        }\n\n        // Check if valid game\n        const { isValid } = this.state;\n        if (!isValid) {\n            return <InvalidGamePage />;\n        }\n\n        const { PLAYERS_LIST, MISSION_TRACKER, ROUND_TRACKER, VOTING_RECORD, TRANSCRIPT } = this.state;\n        const { board, button, team } = this.state;\n        const { hasStarted } = this.state;\n        const room_id = this._get_room_id();\n        const roomLeaderButton = this._getRoomLeaderButton();\n\n        const preGameComponents = !hasStarted ? (\n            <Container>\n                {roomLeaderButton}\n                <PlayersList players_list={PLAYERS_LIST} />\n            </Container>\n        ) : null;\n        const gameComponents = hasStarted ? (\n            <div>\n                <GameBoard\n                    onClickPlayerCard={this.onClickPlayerCard}\n                    onHandleButtonClick={this.onHandleButtonClick}\n                    board={board}\n                    button={button}\n                    team={team}\n                    MISSION_TRACKER={MISSION_TRACKER}\n                    ROUND_TRACKER={ROUND_TRACKER}\n                />\n                <GameNav room={room_id} voting_record={VOTING_RECORD} transcript={TRANSCRIPT} />\n            </div>\n        ) : null;\n\n        return (\n            <div>\n                <GameEnterModal\n                    room={room_id}\n                    hasStarted={hasStarted}\n                    isPlayerInGame={this._getIsPlayerInGame()}\n                    onHandleEnter={this.onHandleEnter}\n                    onHandleSpectate={this.onHandleSpectate}\n                />\n                {preGameComponents}\n                {gameComponents}\n            </div>\n        );\n    }\n}\n\nGameRoom.propTypes = {\n    auth: PropTypes.object.isRequired,\n    is_public: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps, null)(GameRoom);\n","import React, { Component, Fragment } from 'react';\nimport classes from './LobbyModal.module.css';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { socket } from '../../../service/socket';\n\nconst DEFAULT_STATE = {\n    modal: false,\n    room_id: null, // Ex. \"123456\"\n    room_pwd: null, // Ex. \"abcdef\"\n    is_public: true,\n    is_rated: false,\n    isCreated: false,\n    success_msg: null,\n    buttonDisabled: false\n};\n\nexport class LobbyModal extends Component {\n    state = DEFAULT_STATE;\n\n    toggle = () => {\n        // Reset everything\n        this.setState({\n            ...DEFAULT_STATE,\n            modal: !this.state.modal\n        });\n    };\n\n    handleClickPublic = is_public => {\n        this.setState({\n            is_public\n        });\n    };\n\n    handleClickRated = is_rated => {\n        this.setState({\n            is_rated\n        });\n    };\n\n    _generateArrBetweenEnds = (lower, upper) => {\n        const arrBetweenEnds = [];\n        for (let i = lower; i < upper; i++) {\n            arrBetweenEnds.push(i.toString());\n        }\n        return arrBetweenEnds;\n    };\n\n    _generateRandomRoomID = lengthLimit => {\n        let room_id = '';\n        const characters = '0123456789';\n        const charactersLength = characters.length;\n        for (let i = 0; i < lengthLimit; i++) {\n            room_id += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return room_id;\n    };\n\n    /**\n     * Generates a random 6 letter password\n     */\n    _generateRandomRoomPassword = lengthLimit => {\n        let room_pwd = '';\n        const characters = 'abcdefghijklmnopqrstuvwxyz';\n        const charactersLength = characters.length;\n        for (let i = 0; i < lengthLimit; i++) {\n            room_pwd += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return room_pwd;\n    };\n\n    /**\n     * Original: 1000\n     * New1: 130\n     * New2:\n     */\n    onSubmit = e => {\n        e.preventDefault();\n        const { is_public, is_rated } = this.state;\n        // 1) Generate room_id and room_pwd on client-side\n        const room_id = this._generateRandomRoomID(6);\n        let room_pwd = null;\n        if (is_public) {\n            this.setState({\n                room_id,\n                room_pwd,\n                isCreated: true,\n                success_msg: `Your room ID is ${room_id}`,\n                buttonDisabled: true\n            });\n        } else {\n            room_pwd = this._generateRandomRoomPassword(6);\n            this.setState({\n                room_id,\n                room_pwd,\n                isCreated: true,\n                success_msg: `Your room ID is ${room_id} and your password is \"${room_pwd}\"`,\n                buttonDisabled: true\n            });\n        }\n        // 2) Send data to server for Avalon to track\n        const user_id = this.props.auth && this.props.auth.user ? this.props.auth.user.id : null;\n        const data = {\n            user_id,\n            room_id,\n            room_pwd,\n            is_public,\n            is_rated\n        };\n        socket.emit('server_game_handle_CREATE', data);\n    };\n\n    render() {\n        const toggleModalButton = (\n            <Button color=\"success\" className={classes.ToggleLobbyModalButton} onClick={this.toggle}>\n                Create a Room\n            </Button>\n        );\n\n        const { modal, room_id, room_pwd, is_public, is_rated, isCreated, success_msg, buttonDisabled } = this.state;\n        const settingRadioButtons = (\n            <Fragment>\n                <FormGroup check>\n                    <Label check>\n                        <Input\n                            checked={is_public}\n                            type=\"radio\"\n                            name=\"radio_public_private\"\n                            onChange={() => this.handleClickPublic(true)}\n                        />\n                        Public\n                    </Label>\n                </FormGroup>\n                <FormGroup check>\n                    <Label check>\n                        <Input\n                            checked={!is_public}\n                            type=\"radio\"\n                            name=\"radio_public_private\"\n                            onChange={() => this.handleClickPublic(false)}\n                        />\n                        Private\n                    </Label>\n                </FormGroup>\n            </Fragment>\n        );\n        const typeRadioButtons = (\n            <Fragment>\n                <FormGroup check>\n                    <Label check>\n                        <Input\n                            checked={!is_rated}\n                            type=\"radio\"\n                            name=\"radio_rated_unrated\"\n                            onChange={() => this.handleClickRated(false)}\n                        />\n                        Unrated\n                    </Label>\n                </FormGroup>\n                <FormGroup check>\n                    <Label check>\n                        <Input\n                            checked={is_rated}\n                            type=\"radio\"\n                            name=\"radio_rated_unrated\"\n                            onChange={() => this.handleClickRated(true)}\n                        />\n                        Rated\n                    </Label>\n                </FormGroup>\n            </Fragment>\n        );\n\n        const createRoomButton = (\n            <Button color=\"dark\" block disabled={buttonDisabled} className={classes.CreateRoomButton}>\n                Create Room\n            </Button>\n        );\n        const successMsg = isCreated ? (\n            <Alert className=\"mt-3\" color=\"success\">\n                {success_msg}\n            </Alert>\n        ) : null;\n\n        const gameLinkButton = (\n            <Fragment>\n                {isCreated && is_public && (\n                    <Link to={`/game/${room_id}`}>\n                        <Button color=\"success\" style={{ marginTop: '2rem' }} block>\n                            Join Public Room\n                        </Button>\n                    </Link>\n                )}\n                {isCreated && !is_public && (\n                    <Link to={`/game/${room_id}/pwd/${room_pwd}`}>\n                        <Button color=\"success\" style={{ marginTop: '2rem' }} block>\n                            Join Private Room\n                        </Button>\n                    </Link>\n                )}\n            </Fragment>\n        );\n\n        return (\n            <div>\n                {toggleModalButton}\n                <Modal isOpen={modal} toggle={this.toggle}>\n                    <ModalHeader toggle={this.toggle}>Create a Room</ModalHeader>\n                    <ModalBody>\n                        <Form onSubmit={this.onSubmit}>\n                            {settingRadioButtons}\n                            <hr />\n                            {typeRadioButtons}\n                            <hr />\n                            {createRoomButton}\n                            {successMsg}\n                            {gameLinkButton}\n                        </Form>\n                    </ModalBody>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nLobbyModal.propTypes = {\n    auth: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps, null)(LobbyModal);\n","import React, { Component } from 'react';\nimport classes from './LobbyPrivateRoomModal.module.css';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Button, Input, Modal, ModalHeader, ModalBody } from 'reactstrap';\n\nclass LobbyPrivateRoomModal extends Component {\n    state = {\n        modal: false,\n        enteredPassword: '',\n        enterButtonDisabled: true\n    };\n\n    toggle = () => {\n        this.setState({\n            modal: !this.state.modal\n        });\n    };\n\n    handleEnterPassword = event => {\n        const { value: enteredPassword } = event.target;\n        const enterButtonDisabled = enteredPassword.length !== 6;\n        this.setState({\n            enteredPassword,\n            enterButtonDisabled\n        });\n    };\n\n    render() {\n        const { buttonName, buttonColor, room_id } = this.props;\n        const { modal, enteredPassword, enterButtonDisabled } = this.state;\n        return (\n            <div>\n                <Button color={buttonColor} className={classes.LobbyTableButton} onClick={this.toggle}>\n                    {buttonName}\n                </Button>\n                <Modal isOpen={modal} toggle={this.toggle}>\n                    <ModalHeader>Please enter the password for private room {room_id}</ModalHeader>\n                    <ModalBody>\n                        <Input\n                            type=\"text\"\n                            maxLength={6}\n                            value={enteredPassword}\n                            placeholder=\"Enter password...\"\n                            onChange={this.handleEnterPassword}\n                        />\n                        <br />\n                        <Link to={`game/${room_id}/pwd/${enteredPassword}`}>\n                            <Button color={buttonColor} block disabled={enterButtonDisabled}>\n                                {buttonName}\n                            </Button>\n                        </Link>\n                    </ModalBody>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nLobbyPrivateRoomModal.propTypes = {\n    room_id: PropTypes.string.isRequired,\n    buttonName: PropTypes.string.isRequired,\n    buttonColor: PropTypes.string.isRequired\n};\n\nexport default LobbyPrivateRoomModal;\n","import React from 'react';\nimport classes from './LobbyTable.module.css';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Button, Table } from 'reactstrap';\n\nimport LobbyPrivateRoomModal from './LobbyPrivateRoomModal/LobbyPrivateRoomModal';\n\nconst LobbyTable = props => {\n    let table_body = (\n        <tr key=\"single\">\n            <th colSpan=\"7\" className={classes.LobbyTableCell}>\n                No games in progress. Try making one!\n            </th>\n        </tr>\n    );\n\n    if (props.lobby_data.length > 0) {\n        table_body = props.lobby_data.map((room_data, idx) => {\n            const { room_id, is_public, is_rated, num_players, hasLocked, hasEnded } = room_data;\n            const isPublicSetting = is_public ? 'public' : 'private';\n            const isRated = is_rated ? 'rated' : 'unrated';\n            const gameStatus = getGameStatus(hasLocked, hasEnded);\n            const tableButton = getTableButton(is_public, gameStatus, room_id);\n            return (\n                <tr key={idx}>\n                    <th className={classes.LobbyTableCell} scope=\"row\">\n                        {idx + 1}\n                    </th>\n                    <td className={classes.LobbyTableCell}>{room_id}</td>\n                    <td className={classes.LobbyTableCell}>{isPublicSetting}</td>\n                    <td className={classes.LobbyTableCell}>{isRated}</td>\n                    <td className={classes.LobbyTableCell}>{num_players} / 12</td>\n                    <td className={classes.LobbyTableCell}>{gameStatus}</td>\n                    <td className={classes.LobbyTableCell}>{tableButton}</td>\n                </tr>\n            );\n        });\n    }\n    return (\n        <div className={classes.TableContainer}>\n            <Table dark>\n                <thead>\n                    <tr>\n                        <th className={classes.LobbyTableCell}>#</th>\n                        <th className={classes.LobbyTableCell}>Game ID</th>\n                        <th className={classes.LobbyTableCell}>Setting</th>\n                        <th className={classes.LobbyTableCell}>Type</th>\n                        <th className={classes.LobbyTableCell}>Capacity</th>\n                        <th className={classes.LobbyTableCell}>Status</th>\n                        <th className={classes.LobbyTableCell}>Action</th>\n                    </tr>\n                </thead>\n                <tbody>{table_body}</tbody>\n            </Table>\n        </div>\n    );\n};\n\nLobbyTable.propTypes = {\n    /**\n     * [room_id, is_public, is_rated, creation_time, hasStarted, hasEnded, hasLocked, num_players]\n     */\n    lobby_data: PropTypes.array\n};\nexport default LobbyTable;\n\nconst getGameStatus = (hasLocked, hasEnded) => {\n    if (!hasLocked) {\n        return 'waiting';\n    }\n    if (!hasEnded) {\n        return 'in progress';\n    }\n    return 'finished';\n};\n\nconst getTableButton = (is_public, gameStatus, room_id) => {\n    if (is_public) {\n        // PUBLIC\n        if (gameStatus === 'waiting') {\n            return (\n                <Link to={`game/${room_id}`}>\n                    <Button color=\"success\">Join</Button>\n                </Link>\n            );\n        } else if (gameStatus === 'in progress' || gameStatus === 'finished') {\n            return (\n                <Link to={`game/${room_id}`}>\n                    <Button color=\"info\">Spectate</Button>\n                </Link>\n            );\n        }\n    } else {\n        // PRIVATE\n        if (gameStatus === 'waiting') {\n            return <LobbyPrivateRoomModal buttonName=\"Join\" buttonColor=\"success\" room_id={room_id} />;\n        } else if (gameStatus === 'in progress' || gameStatus === 'finished') {\n            return <LobbyPrivateRoomModal buttonName=\"Spectate\" buttonColor=\"info\" room_id={room_id} />;\n        }\n    }\n};\n","import React, { Component } from 'react';\nimport { Container } from 'reactstrap';\nimport classes from './LobbyPage.module.css';\nimport { socket } from '../../service/socket';\n\nimport Chat from '../Chat/Chat';\nimport LobbyModal from './LobbyModal/LobbyModal';\nimport LobbyTable from './LobbyTable/LobbyTable';\n\nclass LobbyPage extends Component {\n    state = {\n        lobby_data: []\n    };\n\n    componentDidMount() {\n        socket.emit('server_game_lobby_data');\n        socket.on('client_game_lobby_data', data => {\n            this.setState({\n                lobby_data: data\n            });\n        });\n    }\n    render() {\n        const chatHeader = (\n            <div>\n                <hr />\n                <h3>Chat</h3>\n                <hr />\n            </div>\n        );\n\n        const lobbyHeader = (\n            <div>\n                <hr></hr>\n                <h3>Game Lobby</h3>\n                <hr></hr>\n            </div>\n        );\n        return (\n            <div className={classes.LobbyPageContainer}>\n                <Container>\n                    {chatHeader}\n                    <Chat room={'lobby'} />\n                    {lobbyHeader}\n                    <LobbyModal />\n                    <LobbyTable lobby_data={this.state.lobby_data} />\n                </Container>\n            </div>\n        );\n    }\n}\n\nexport default LobbyPage;\n","import React from 'react';\nimport classes from './WelcomePage.module.css';\n\nconst WelcomePage = () => {\n    const spacing = (\n        <div>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n            <br></br>\n        </div>\n    );\n    return (\n        <div className={classes.OuterContainer}>\n            <div className={classes.InnerContainer}>\n                {spacing}\n                <div className={classes.InnerText}>\n                    Welcome to The Resistance: Avalon\n                    <br></br>\n                    <div className={classes.SubText}>Please register and log in to play</div>\n                </div>\n                <div className={classes.DisclaimerText}>\n                    This is not affiliated with the official creators of \"The Resistance: Avalon\" game. This was purely\n                    a hobby project, from enthusiasts of the game.\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default WelcomePage;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport LobbyPage from '../../Lobby/LobbyPage';\nimport WelcomePage from '../WelcomePage/WelcomePage';\n\nclass HomePage extends Component {\n    render() {\n        return this.props.isAuthenticated ? <LobbyPage /> : <WelcomePage />;\n    }\n}\n\nHomePage.propTypes = {\n    isAuthenticated: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, null)(HomePage);\n","import React from 'react';\nimport classes from './CharacterCard.module.css';\nimport PropTypes from 'prop-types';\n\nconst CharacterCard = props => {\n    const { avatar, name, team, description } = props;\n    return (\n        <div className={classes.CharacterCardContainer}>\n            <div className={classes.CharacterCardImageContainer}>\n                <img src={avatar} alt=\"Avatar\" className={classes.CharacterCardImage} />\n            </div>\n            <div className={classes.CharacterCardTextContainer}>\n                <h4>\n                    <b>{name}</b>\n                </h4>\n                <ul>\n                    <li key={'team'}>Team: {team}</li>\n                    {description.map((descriptionPoint, idx) => (\n                        <li key={idx}>{descriptionPoint}</li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nCharacterCard.propTypes = {\n    avatar: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    team: PropTypes.string.isRequired,\n    description: PropTypes.array.isRequired\n};\n\nexport default CharacterCard;\n","import React from 'react';\nimport classes from './CharacterCards.module.css';\n\nimport {\n    Assassin,\n    DrunkMerlin,\n    LoyalServant,\n    Merlin,\n    Minion,\n    Mordred,\n    Morgana,\n    Oberon,\n    Percival\n} from '../../../../media/RoleAvatars';\nimport CharacterCard from './CharacterCard/CharacterCard';\n\nconst CharacterCards = () => {\n    const characterCardsProps = getCharacterCardsProps();\n    return (\n        <div className={classes.CharacterCardsContainer}>\n            {characterCardsProps.map(characterCardProps => (\n                <CharacterCard {...characterCardProps} />\n            ))}\n        </div>\n    );\n};\n\nexport default CharacterCards;\n\nconst getCharacterCardsProps = () => [\n    {\n        avatar: LoyalServant,\n        name: 'Loyal Servant',\n        team: 'Resistance',\n        description: ['Has no special powers']\n    },\n    {\n        avatar: Merlin,\n        name: 'Merlin',\n        team: 'Resistance',\n        description: ['Sees all Spies except for Mordred', 'Must stay discrete to Spies']\n    },\n    {\n        avatar: Percival,\n        name: 'Percival',\n        team: 'Resistance',\n        description: ['Sees both Merlin and Morgana as possibly Merlin', 'Must stay vigilant and careful']\n    },\n    {\n        avatar: Minion,\n        name: 'Minion',\n        team: 'Spy',\n        description: ['No extra powers beyond seeing other Spies (besides Oberon)']\n    },\n    {\n        avatar: Assassin,\n        name: 'Assassin',\n        team: 'Spy',\n        description: ['Decides who to assassinate at the end of the game']\n    },\n    {\n        avatar: Morgana,\n        name: 'Morgana',\n        team: 'Spy',\n        description: ['Seen by Percival as a potential Merlin', 'Must try to deceive Percival']\n    },\n    {\n        avatar: Mordred,\n        name: 'Mordred',\n        team: 'Spy',\n        description: ['Remains hidden to Merlin', 'Must try to pass off as Resistance']\n    },\n    {\n        avatar: Oberon,\n        name: 'Oberon',\n        team: 'Spy',\n        description: ['Remains hidden to other Spies but is known by Merlin', 'A wildcard to add extra chaos']\n    },\n    {\n        avatar: DrunkMerlin,\n        name: 'Drunk Merlin',\n        team: 'Resistance',\n        description: ['Sees himself as Merlin', 'Sees the same number of Spies as Merlin', 'Maximum chaos']\n    }\n];\n","import React from 'react';\nimport classes from './FeatureCard.module.css';\nimport PropTypes from 'prop-types';\n\nconst FeatureCard = props => {\n    const { name, description } = props;\n    return (\n        <div className={classes.FeatureCardContainer}>\n            <div className={classes.FeatureCardHeaderContainer}>\n                {/* <img src={avatar} alt=\"Avatar\" className={classes.CharacterCardImage} /> */}\n                {/* <div>Excalibur</div> */}\n                <h1>{name}</h1>\n            </div>\n            <div className={classes.FeatureCardTextContainer}>\n                <ul>\n                    {description.map((descriptionPoint, idx) => (\n                        <li key={idx}>{descriptionPoint}</li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nFeatureCard.propTypes = {\n    name: PropTypes.string.isRequired,\n    description: PropTypes.array.isRequired\n};\n\nexport default FeatureCard;\n","import React from 'react';\nimport FeatureCard from './FeatureCard/FeatureCard';\n\nconst FeatureCards = () => {\n    const featureCardsProps = getFeatureCardsProps();\n    return (\n        <div>\n            {featureCardsProps.map(featureCardProps => (\n                <FeatureCard {...featureCardProps} />\n            ))}\n        </div>\n    );\n};\n\nexport default FeatureCards;\n\nconst getFeatureCardsProps = () => [\n    {\n        name: 'Excalibur',\n        description: [\n            'Leader chooses a member of the proposed team to grant the power of Excalibur',\n            'If the team is approved, the player granted Excalibur can choose to flip the vote of a target player after the mission',\n            'If the player granted Excalibur chooses to use Excalibur, the player can see the original vote of the target player'\n        ]\n    },\n    {\n        name: 'Lady of the Lake',\n        description: [\n            'At the start of the game, the Lady of the Lake token is granted to the player sitting to the right of the leader',\n            'At the end of missions 2, 3, and 4, the player granted the Lady of the Lake selects a player in the game to inquisit',\n            'The player inquisited by the Lady of the Lake must reveal their true team to the granted player',\n            'No player who used Lady of the Lake may have Lady of the Lake used on them'\n        ]\n    },\n    {\n        name: 'Public vs. Private Games',\n        description: [\n            'Ongoing public games and private games are both shown in the main lobby',\n            'Private games require a password to enter',\n            'Spectators may spectate both public and private games (can spectate private games if they have the password)'\n        ]\n    },\n    {\n        name: 'Rated Games',\n        description: [\n            'Setting the game as \"Rated\" will affect every player in the game',\n            'Rating system is based on the ELO system, using the average ELO of each team',\n            'Rated games that are abandoned will negatively impact the ELO of players of both teams'\n        ]\n    }\n];\n","import React, { Fragment } from 'react';\nimport classes from './RulesPage.module.css';\nimport { Container } from 'reactstrap';\nimport CharacterCards from './CharacterCards/CharacterCards';\nimport FeatureCards from './FeatureCards/FeatureCards';\n\nconst RulesPage = () => {\n    return (\n        <div className={classes.AboutPage}>\n            <Container>\n                {charactersSection}\n                {featuresSection}\n                {rulesSection}\n            </Container>\n        </div>\n    );\n};\n\nexport default RulesPage;\n\nconst charactersSection = (\n    <Fragment>\n        <hr />\n        <h3>Characters</h3>\n        <hr />\n        <CharacterCards />\n    </Fragment>\n);\n\nconst featuresSection = (\n    <Fragment>\n        <hr />\n        <h3>Features</h3>\n        <hr />\n        <FeatureCards />\n    </Fragment>\n);\n\nconst rulesSection = (\n    <Fragment>\n        <div>\n            <hr />\n            <h3>Rules</h3>\n            <hr />\n            <p>\n                The rules of Avalon are explained nicely in this\n                <a\n                    href=\"http://upload.snakesandlattes.com/rules/r/ResistanceAvalon.pdf\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    {' '}\n                    guide{' '}\n                </a>{' '}\n                and video here:\n            </p>\n            <div className={classes.RulesVideoContainer}>\n                <iframe\n                    title=\"The Resistance: Avalon - How To Play\"\n                    className=\"mb-3 mt-3 \"\n                    src=\"https://www.youtube.com/embed/rXlK3NZjLGc\"\n                ></iframe>\n            </div>\n        </div>\n    </Fragment>\n);\n","import React from 'react';\nimport classes from './StatsIndividualByRoles.module.css';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\n\nconst COLOR_BLUE = { color: '#7EC8E3' };\nconst COLOR_RED = { color: '#ff726f' };\n\nconst StatsIndividualByRoles = props => {\n    const { byRoles } = props;\n    const loadingRow = (\n        <tr key=\"loading\">\n            <th colSpan=\"6\" className={classes.CellCenterText}>\n                Stats are loading...\n            </th>\n        </tr>\n    );\n    const noDataRow = (\n        <tr key=\"noData\">\n            <th colSpan=\"6\" className={classes.CellCenterText}>\n                No stats to show. Please play more games to see.\n            </th>\n        </tr>\n    );\n    const placeholderRow = byRoles ? noDataRow : loadingRow;\n    const tableBody = byRoles && byRoles.length > 0 ? getTableBodyRows(byRoles) : placeholderRow;\n\n    const byRolesTable = (\n        <div className={classes.TableContainer}>\n            <Table dark>\n                <thead>\n                    <tr>\n                        <th className={classes.CellCenterText}>#</th>\n                        <th className={classes.CellCenterText}>Team</th>\n                        <th className={classes.CellCenterText}>Role</th>\n                        <th className={classes.CellCenterText}>Games Won</th>\n                        <th className={classes.CellCenterText}>Games Played</th>\n                        <th className={classes.CellCenterText}>Win %</th>\n                    </tr>\n                </thead>\n                <tbody>{tableBody}</tbody>\n            </Table>\n        </div>\n    );\n    return <div>{byRolesTable}</div>;\n};\n\nStatsIndividualByRoles.propTypes = {\n    byRoles: PropTypes.array\n};\n\nexport default StatsIndividualByRoles;\n\nconst map_team_to_color = {\n    RESISTANCE: COLOR_BLUE,\n    SPY: COLOR_RED\n};\n\nconst getTableBodyRows = byRoles => {\n    const tableBodyRows = byRoles.map((singleRowData, idx) => {\n        const { team, role, games_won, games_played } = singleRowData;\n        const win_percentage = getWinPercentage(games_won, games_played);\n        const colorTeamAndRole = map_team_to_color[team];\n        return (\n            <tr key={idx + 1}>\n                <td className={classes.CellCenterText}>{idx + 1}</td>\n                <td className={classes.CellCenterText} style={colorTeamAndRole}>\n                    {team}\n                </td>\n                <td className={classes.CellCenterText} style={colorTeamAndRole}>\n                    {role}\n                </td>\n                <td className={classes.CellCenterText}>{games_won}</td>\n                <td className={classes.CellCenterText}>{games_played}</td>\n                <td className={classes.CellCenterText}>{win_percentage}</td>\n            </tr>\n        );\n    });\n\n    return tableBodyRows;\n};\n\nconst getWinPercentage = (games_won, games_played) => {\n    // Round to 1 decimal place\n    if (games_played === 0) return 0;\n    const win_percentage = parseInt(Math.round((games_won / games_played) * 1000)) / 10;\n    return win_percentage;\n};\n","import React from 'react';\nimport classes from './StatsIndividualHistory.module.css';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\n\nconst COLOR_BLUE = { color: '#7EC8E3' };\nconst COLOR_GREEN = { color: '#90ee90' };\nconst COLOR_RED = { color: '#ff726f' };\n\nconst StatsIndividualHistory = props => {\n    const { history } = props;\n\n    const loadingRow = (\n        <tr key=\"loading\">\n            <th colSpan=\"8\" style={{ textAlign: 'center' }}>\n                Stats are loading...\n            </th>\n        </tr>\n    );\n\n    const noDataRow = (\n        <tr key=\"noData\">\n            <th colSpan=\"8\" style={{ textAlign: 'center' }}>\n                No stats to show. Please play more games to see.\n            </th>\n        </tr>\n    );\n\n    const placeholderRow = history ? noDataRow : loadingRow;\n\n    const tableBody = history && history.length > 0 ? getTableBodyRows(history) : placeholderRow;\n\n    const historyTable = (\n        <div className={classes.TableContainer}>\n            <Table dark>\n                <thead>\n                    <tr>\n                        <th className={classes.CellCenterText}>#</th>\n                        <th className={classes.CellCenterText}>Date</th>\n                        <th className={classes.CellCenterText}>Setting</th>\n                        <th className={classes.CellCenterText}>Type</th>\n                        <th className={classes.CellCenterText}>Num Players</th>\n                        <th className={classes.CellCenterText}>Team</th>\n                        <th className={classes.CellCenterText}>Role</th>\n                        <th className={classes.CellCenterText}>Result</th>\n                    </tr>\n                </thead>\n                <tbody>{tableBody}</tbody>\n            </Table>\n        </div>\n    );\n    return <div>{historyTable}</div>;\n};\n\nStatsIndividualHistory.propTypes = {\n    /**\n     * history: [{date, is_completed, is_public, is_rated, num_players, team, role, result}]\n     */\n    history: PropTypes.array\n};\n\nexport default StatsIndividualHistory;\n\nconst getTableBodyRows = history => {\n    const tableBodyRows = history.map((singleRowData, idx) => {\n        const { date, is_public, is_rated, num_players, role, team, result } = singleRowData;\n        const dateText = getDateFormatted(date);\n        const settingText = is_public ? 'public' : 'private';\n        const typeText = is_rated ? 'rated' : 'unrated';\n        const numPlayersText = num_players;\n        const teamText = team;\n        const roleText = role;\n        const resultText = result.winningTeam === team ? 'WIN' : 'LOSS';\n        const colorTeamAndRole = team === 'RESISTANCE' ? COLOR_BLUE : COLOR_RED;\n        const colorResult = resultText === 'WIN' ? COLOR_GREEN : COLOR_RED;\n        return (\n            <tr key={idx + 1}>\n                <td className={classes.CellCenterText}>{idx + 1}</td>\n                <td className={classes.CellCenterText}>{dateText}</td>\n                <td className={classes.CellCenterText}>{settingText}</td>\n                <td className={classes.CellCenterText}>{typeText}</td>\n                <td className={classes.CellCenterText}>{numPlayersText}</td>\n                <td className={classes.CellCenterText} style={colorTeamAndRole}>\n                    {teamText}\n                </td>\n                <td className={classes.CellCenterText} style={colorTeamAndRole}>\n                    {roleText}\n                </td>\n                <td className={classes.CellCenterText} style={colorResult}>\n                    {resultText}\n                </td>\n            </tr>\n        );\n    });\n\n    return tableBodyRows;\n};\n\nconst getDateFormatted = dateTime => {\n    const date_yyyy_mm_dd = new Date(dateTime).toISOString().split('T')[0];\n    return date_yyyy_mm_dd;\n};\n","import React from 'react';\nimport { Table } from 'reactstrap';\nimport classes from './StatsIndividualOverall.module.css';\n\nconst COLOR_BLUE = { color: '#7EC8E3' };\nconst COLOR_GREEN = { color: '#90ee90' };\nconst COLOR_RED = { color: '#ff726f' };\n\nconst StatsIndividualOverall = props => {\n    const { overall } = props;\n    const loadingRow = (\n        <tr key=\"loading\">\n            <th colSpan=\"6\" style={{ textAlign: 'center' }}>\n                Stats are loading...\n            </th>\n        </tr>\n    );\n    const noDataRow = (\n        <tr key=\"noData\">\n            <th colSpan=\"6\" style={{ textAlign: 'center' }}>\n                No stats to show. Please play more games to see.\n            </th>\n        </tr>\n    );\n    const placeholderRow = overall ? noDataRow : loadingRow;\n    const tableBody = overall && overall.length > 0 ? getTableBodyRows(overall) : placeholderRow;\n\n    const overallTable = (\n        <div className={classes.TableContainer}>\n            <Table dark>\n                <thead>\n                    <tr>\n                        <th className={classes.CellCenterText}>#</th>\n                        <th className={classes.CellCenterText}>Team</th>\n                        <th className={classes.CellCenterText}>Games Won</th>\n                        <th className={classes.CellCenterText}>Games Played</th>\n                        <th className={classes.CellCenterText}>Win %</th>\n                    </tr>\n                </thead>\n                <tbody>{tableBody}</tbody>\n            </Table>\n        </div>\n    );\n    return <div>{overallTable}</div>;\n};\n\nexport default StatsIndividualOverall;\n\nconst map_team_to_color = {\n    TOTAL: COLOR_GREEN,\n    RESISTANCE: COLOR_BLUE,\n    SPY: COLOR_RED\n};\n\nconst getTableBodyRows = overall => {\n    const tableBodyRows = overall.map((singleRowData, idx) => {\n        const { team, games_won, games_played } = singleRowData;\n        const win_percentage = getWinPercentage(games_won, games_played);\n\n        const colorTeam = map_team_to_color[team];\n        return (\n            <tr key={idx + 1}>\n                <td className={classes.CellCenterText}>{idx + 1}</td>\n                <td className={classes.CellCenterText} style={colorTeam}>\n                    {team}\n                </td>\n                <td className={classes.CellCenterText}>{games_won}</td>\n                <td className={classes.CellCenterText}>{games_played}</td>\n                <td className={classes.CellCenterText}>{win_percentage}</td>\n            </tr>\n        );\n    });\n\n    return tableBodyRows;\n};\n\nconst getWinPercentage = (games_won, games_played) => {\n    // Round to 1 decimal place\n    if (games_played === 0) return 0;\n    const win_percentage = parseInt(Math.round((games_won / games_played) * 1000)) / 10;\n    return win_percentage;\n};\n","import React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport classes from './StatsHeadToHead.module.css';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Alert, Button, Input, InputGroup, InputGroupAddon, Table } from 'reactstrap';\n\nclass StatsHeadToHead extends Component {\n    state = {\n        enteredNames: '',\n        headToHead: [],\n        isLoading: false,\n        errorMsg: null\n    };\n\n    _get_user_id = () => {\n        const user_id = this.props.auth && this.props.auth.user ? this.props.auth.user.id : null;\n        return user_id;\n    };\n\n    _get_user_name = () => {\n        const user_name = this.props.auth && this.props.auth.user ? this.props.auth.user.name : null;\n        return user_name;\n    };\n\n    isValidQuery = (user_id, enteredNames) => {\n        // 1) user_id must be valid\n        if (!user_id) return false;\n\n        // 2) Must have length > 0\n        const isLengthValid = enteredNames.length > 0;\n        if (!isLengthValid) return false;\n\n        // 2) Must not contain own username\n        const user_name = this._get_user_name();\n        if (enteredNames.includes(user_name)) return false;\n\n        // 3) Must contain no spaces\n        const containsSpaces = enteredNames.includes(' ');\n        return !containsSpaces;\n    };\n\n    handleEnterNames = event => {\n        const { value: enteredNames } = event.target;\n        this.setState({\n            enteredNames\n        });\n    };\n\n    handlePressEnter = event => {\n        if (event.key === 'Enter') {\n            this.handleSearch();\n        }\n    };\n\n    handleSearch = () => {\n        const { enteredNames } = this.state;\n        const user_id = this._get_user_id();\n        const isValidQuery = this.isValidQuery(user_id, enteredNames);\n\n        if (isValidQuery) {\n            this.setState({\n                isLoading: true\n            });\n            axios.get(`/api/games/headtohead/${user_id}/${enteredNames}`).then(res => {\n                this.setState({\n                    isLoading: false,\n                    errorMsg: null,\n                    headToHead: res.data\n                });\n            });\n        } else {\n            this.setState({\n                errorMsg: 'Invalid query. Please follow the example: player1,player2 ...'\n            });\n        }\n    };\n\n    render() {\n        const { enteredNames, headToHead, isLoading, errorMsg } = this.state;\n        const renderedErrorMessage = errorMsg ? (\n            <Alert className=\"mt-3\" color=\"danger\">\n                {errorMsg}\n            </Alert>\n        ) : null;\n        const userNamesInput = (\n            <InputGroup>\n                <Input\n                    type=\"text\"\n                    value={enteredNames}\n                    placeholder=\"Enter a username or a list of usernames (separated by commas, no space)...\"\n                    onChange={this.handleEnterNames}\n                    onKeyPress={this.handlePressEnter}\n                />\n                <InputGroupAddon addonType=\"append\">\n                    <Button color=\"success\" onClick={this.handleSearch}>\n                        Search\n                    </Button>\n                </InputGroupAddon>\n            </InputGroup>\n        );\n        const loadingRow = (\n            <tr key=\"loading\">\n                <th colSpan=\"6\" className={classes.CellCenterText}>\n                    Stats are loading...\n                </th>\n            </tr>\n        );\n\n        const noDataRow = (\n            <tr key=\"noData\">\n                <th colSpan=\"6\" className={classes.CellCenterText}>\n                    No stats to show. Please play more games to see.\n                </th>\n            </tr>\n        );\n\n        const tableBodyRows = getTableBodyRows(headToHead);\n        const renderedTableBodyRows = tableBodyRows.length > 0 ? tableBodyRows : noDataRow;\n        const tableBody = isLoading ? loadingRow : renderedTableBodyRows;\n        const headToHeadTable = (\n            <div className={classes.TableContainer}>\n                <Table dark>\n                    <thead>\n                        <tr key=\"header\">\n                            <th className={classes.CellCenterText}>#</th>\n                            <th className={classes.CellCenterText}>Player</th>\n                            <th className={classes.CellCenterText}>Team</th>\n                            <th className={classes.CellCenterText}>Your Games Won</th>\n                            <th className={classes.CellCenterText}>Total Games Played</th>\n                            <th className={classes.CellCenterText}>Win %</th>\n                        </tr>\n                    </thead>\n                    <tbody>{tableBody}</tbody>\n                </Table>\n            </div>\n        );\n\n        return (\n            <div>\n                {renderedErrorMessage}\n                {userNamesInput}\n                {headToHeadTable}\n            </div>\n        );\n    }\n}\n\nStatsHeadToHead.propTypes = {\n    auth: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps, null)(StatsHeadToHead);\n\nconst getTableBodyRows = headToHead => {\n    const tableBodyRows = headToHead.map((singlePlayerData, idx) => {\n        const { Player, Same, Different } = singlePlayerData;\n\n        const gamesWonSameTeam = Same['Your Games Won'];\n        const totalGamesPlayedSameTeam = Same['Total Games Played'];\n        const winPercentageSameTeam = getWinPercentage(gamesWonSameTeam, totalGamesPlayedSameTeam);\n        const gamesWonDifferentTeam = Different['Your Games Won'];\n        const totalGamesPlayedDifferentTeam = Different['Total Games Played'];\n        const winPercentageDifferentTeam = getWinPercentage(gamesWonDifferentTeam, totalGamesPlayedDifferentTeam);\n        return (\n            <Fragment key={idx}>\n                <tr key={idx * 2}>\n                    <td className={classes.CellCenterText} style={{ verticalAlign: 'middle' }} rowSpan={2}>\n                        {idx + 1}\n                    </td>\n                    <td className={classes.CellCenterText} style={{ verticalAlign: 'middle' }} rowSpan={2}>\n                        {Player}\n                    </td>\n                    <td className={classes.CellCenterText}>Same</td>\n                    <td className={classes.CellCenterText}>{gamesWonSameTeam}</td>\n                    <td className={classes.CellCenterText}>{totalGamesPlayedSameTeam}</td>\n                    <td className={classes.CellCenterText}>{winPercentageSameTeam}</td>\n                </tr>\n                <tr key={idx * 2 + 1}>\n                    <td className={classes.CellCenterText}>Different</td>\n                    <td className={classes.CellCenterText}>{gamesWonDifferentTeam}</td>\n                    <td className={classes.CellCenterText}>{totalGamesPlayedDifferentTeam}</td>\n                    <td className={classes.CellCenterText}>{winPercentageDifferentTeam}</td>\n                </tr>\n            </Fragment>\n        );\n    });\n\n    return tableBodyRows;\n};\n\nconst getWinPercentage = (games_won, games_played) => {\n    // Round to 1 decimal place\n    if (games_played === 0) return 0;\n    const win_percentage = parseInt(Math.round((games_won / games_played) * 1000)) / 10;\n    return win_percentage;\n};\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport classes from './StatsPage.module.css';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Container } from 'reactstrap';\n\nimport AccessDeniedPage from '../AccessDeniedPage/AccessDeniedPage';\nimport LoadingSpinner from '../Loading/LoadingSpinner';\nimport StatsIndividualByRoles from './StatsIndividualByRoles/StatsIndividualByRoles';\nimport StatsIndividualHistory from './StatsIndividualHistory/StatsIndividualHistory';\nimport StatsIndividualOverall from './StatsIndividualOverall/StatsIndividualOverall';\nimport StatsHeadToHead from './StatsHeadToHead/StatsHeadToHead';\n\nexport class StatsPage extends Component {\n    state = {\n        isAuthenticated: false,\n        isLoadingRating: true,\n        isLoadingStats: true,\n        rating: null,\n        history: null,\n        overall: null,\n        byRoles: null\n    };\n\n    componentDidMount() {\n        setTimeout(() => {\n            // Get individual stats data and set state accordingly\n            const user_id = this._get_user_id();\n            if (!!user_id) {\n                axios.get(`/api/ratings/${user_id}`).then(res => {\n                    const rating = res.data;\n                    this.setState({\n                        isLoadingRating: false,\n                        rating\n                    });\n                });\n                axios.get(`/api/games/${user_id}`).then(res => {\n                    /**\n                     * [{date, is_completed, is_public, is_rated, num_players, team, role, result}]\n                     */\n                    const data = res.data;\n                    const history = _getHistoryData(data);\n                    const overall = _getOverallData(data);\n                    const byRoles = _getByRolesData(data);\n                    this.setState({\n                        isAuthenticated: true,\n                        isLoadingStats: false,\n                        history,\n                        overall,\n                        byRoles\n                    });\n                });\n            } else {\n                this.setState({\n                    isLoadingRating: false,\n                    isLoadingStats: false\n                });\n            }\n        }, 1000);\n    }\n\n    _get_user_id = () => {\n        const user_id = this.props.auth && this.props.auth.user ? this.props.auth.user.id : null;\n        return user_id;\n    };\n\n    render() {\n        const { isAuthenticated, isLoadingRating, isLoadingStats, rating, history, overall, byRoles } = this.state;\n\n        if (isLoadingRating || isLoadingStats) {\n            return <LoadingSpinner />;\n        }\n\n        if (!isAuthenticated) {\n            return <AccessDeniedPage />;\n        }\n\n        return (\n            <div>\n                <Container>\n                    <div className={classes.RatingBanner}>Rating: {rating ? rating : 1500}</div>\n                    <hr />\n                    <h3>History</h3>\n                    <hr />\n                    <StatsIndividualHistory history={history} />\n                    <hr />\n                    <h3>Overall</h3>\n                    <hr />\n                    <StatsIndividualOverall overall={overall} />\n                    <hr />\n                    <h3>By Role</h3>\n                    <hr />\n                    <StatsIndividualByRoles byRoles={byRoles} />\n                    <hr />\n                    <h3>Head to Head</h3>\n                    <hr />\n                    <StatsHeadToHead />\n                </Container>\n            </div>\n        );\n    }\n}\n\nStatsPage.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps, null)(StatsPage);\n\nconst _getHistoryData = data => {\n    // Get all (previously just top 5, but now table is scrollable)\n    return data;\n};\n\nconst _getOverallData = data => {\n    // Aggregate based on team\n    if (data.length === 0) return [];\n    let RESISTANCE_GAMES_WON = 0;\n    let RESISTANCE_GAMES_PLAYED = 0;\n    let SPY_GAMES_WON = 0;\n    let SPY_GAMES_PLAYED = 0;\n\n    data.forEach(singleGameData => {\n        const {\n            team,\n            result: { winningTeam }\n        } = singleGameData;\n        const resultText = team === winningTeam ? 'WIN' : 'LOSS';\n        if (team === 'RESISTANCE') {\n            if (resultText === 'WIN') {\n                RESISTANCE_GAMES_WON++;\n            }\n            RESISTANCE_GAMES_PLAYED++;\n        } else if (team === 'SPY') {\n            if (resultText === 'WIN') {\n                SPY_GAMES_WON++;\n            }\n            SPY_GAMES_PLAYED++;\n        }\n    });\n    const TOTAL_GAMES_WON = RESISTANCE_GAMES_WON + SPY_GAMES_WON;\n    const TOTAL_GAMES_PLAYED = RESISTANCE_GAMES_PLAYED + SPY_GAMES_PLAYED;\n    return [\n        { team: 'TOTAL', games_won: TOTAL_GAMES_WON, games_played: TOTAL_GAMES_PLAYED },\n        { team: 'RESISTANCE', games_won: RESISTANCE_GAMES_WON, games_played: RESISTANCE_GAMES_PLAYED },\n        { team: 'SPY', games_won: SPY_GAMES_WON, games_played: SPY_GAMES_PLAYED }\n    ];\n};\n\nconst _getByRolesData = data => {\n    const uniqueRolesAndTeams = [];\n    const setOfUniqueRoles = new Set();\n    const mapRoleToGamesWon = new Map();\n    const mapRoleToGamesPlayed = new Map();\n\n    data.forEach(singleGameData => {\n        const {\n            role,\n            team,\n            result: { winningTeam }\n        } = singleGameData;\n        const resultText = team === winningTeam ? 'WIN' : 'LOSS';\n        if (!setOfUniqueRoles.has(role)) {\n            setOfUniqueRoles.add(role);\n            uniqueRolesAndTeams.push({ role, team });\n            mapRoleToGamesWon.set(role, resultText === 'WIN' ? 1 : 0);\n            mapRoleToGamesPlayed.set(role, 1);\n        } else {\n            if (resultText === 'WIN') {\n                // Increment games_won\n                const games_won = mapRoleToGamesWon.get(role);\n                mapRoleToGamesWon.set(role, games_won + 1);\n            }\n            // Increment games_played\n            const games_played = mapRoleToGamesPlayed.get(role);\n            mapRoleToGamesPlayed.set(role, games_played + 1);\n        }\n    });\n\n    // Create data from helpers\n    const byRolesData = uniqueRolesAndTeams.map(roleAndTeam => {\n        const { role, team } = roleAndTeam;\n        const games_won = mapRoleToGamesWon.get(role);\n        const games_played = mapRoleToGamesPlayed.get(role);\n        return {\n            role,\n            team,\n            games_won,\n            games_played\n        };\n    });\n\n    // Sort final data\n    const sortByTeamThenRole = (a, b) => {\n        if (a.team === b.team) {\n            return a.role > b.role ? 1 : -1;\n        }\n        return a.team > b.team ? 1 : -1;\n    };\n    byRolesData.sort(sortByTeamThenRole);\n    return byRolesData;\n};\n","import React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport AboutPage from '../../Pages/AboutPage/AboutPage';\nimport GameRoom from '../../GameRoom/GameRoom';\nimport HomePage from '../../Pages/HomePage/HomePage';\nimport RulesPage from '../../Pages/RulesPage/RulesPage';\nimport StatsPage from '../../Pages/StatsPage/StatsPage';\n\nconst AppRoutes = (props) => {\n    const sharedRoutes = (\n        <Fragment>\n            <Route exact path='/' component={HomePage} />\n            <Route exact path='/about' component={AboutPage} />\n            <Route exact path='/rules' component={RulesPage} />\n            {/** Below routes are not supposed to be \"shared\" but do not render otherwise (even on refresh). */}\n            <Route exact path='/stats' component={StatsPage} />\n            <Route exact path='/game/:room_id' render={(props) => <GameRoom {...props} is_public={true} />} />\n            <Route exact path='/game/:room_id/pwd/:pwd' render={(props) => <GameRoom {...props} is_public={false} />} />\n        </Fragment>\n    );\n    const authRoutes = (\n        <Switch>\n            {sharedRoutes}\n            <Redirect to='/'></Redirect>\n        </Switch>\n    );\n\n    const guestRoutes = (\n        <Switch>\n            {sharedRoutes}\n            <Redirect to='/'></Redirect>\n        </Switch>\n    );\n    return props.isAuthenticated ? <Switch>{authRoutes}</Switch> : <Switch>{guestRoutes}</Switch>;\n};\n\nconst mapStateToProps = (state) => ({\n    isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, null)(AppRoutes);\n","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router, HashRouter } from 'react-router-dom';\nimport store from './store';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nimport { loadUser } from './actions/authActions';\nimport AppNavbar from './components/App/AppNavbar/AppNavbar';\nimport AppRoutes from './components/App/AppRoutes/AppRoutes';\n\nclass App extends Component {\n    componentDidMount() {\n        console.log(`Plz don't hack me ;D`);\n        store.dispatch(loadUser());\n    }\n\n    render() {\n        return (\n            <Provider store={store}>\n                <HashRouter>\n                    <AppNavbar />\n                    <AppRoutes />\n                </HashRouter>\n            </Provider>\n        );\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CellCenterText\":\"AboutLeaderboard_CellCenterText__3p2jj\",\"TableContainer\":\"AboutLeaderboard_TableContainer__3IQf-\",\"LeaderboardBanner\":\"AboutLeaderboard_LeaderboardBanner__1M7DE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlayerCard\":\"PlayerCard_PlayerCard__pBzvF\",\"PlayerCard2\":\"PlayerCard_PlayerCard2__3oGYH\",\"MissionMarkerWooden\":\"PlayerCard_MissionMarkerWooden__2Hxhp\",\"MissionMarker\":\"PlayerCard_MissionMarker__ULt7u\",\"LeaderMarker\":\"PlayerCard_LeaderMarker__1y6YS\",\"ExcaliburMarker\":\"PlayerCard_ExcaliburMarker__5hubI\",\"HammerMarker\":\"PlayerCard_HammerMarker__2brh8\",\"LadyMarker\":\"PlayerCard_LadyMarker__1eE2P\",\"NameBanner\":\"PlayerCard_NameBanner__ox54G\",\"NameBanner2\":\"PlayerCard_NameBanner2__12jdt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameButtons\":\"GameButtons_GameButtons__B_yPB\",\"GameButtonDuo\":\"GameButtons_GameButtonDuo__1IMFz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OuterContainer\":\"WelcomePage_OuterContainer__rIexZ\",\"InnerContainer\":\"WelcomePage_InnerContainer__Sd_b7\",\"InnerText\":\"WelcomePage_InnerText__TbIob\",\"SubText\":\"WelcomePage_SubText__3WVPn\",\"DisclaimerText\":\"WelcomePage_DisclaimerText__2CGtN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MissionTracker\":\"MissionTracker_MissionTracker__1Q73D\",\"MissionTrackerToken\":\"MissionTracker_MissionTrackerToken__lxFwg\",\"MissionTrackerText\":\"MissionTracker_MissionTrackerText__DxnLb\",\"MissionTrackerSubtext\":\"MissionTracker_MissionTrackerSubtext__3KNqK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OuterTableContainer\":\"GameTranscript_OuterTableContainer__3FzwH\",\"TableHeader\":\"GameTranscript_TableHeader__9U7P6\",\"TableBodyContainer\":\"GameTranscript_TableBodyContainer__ZbnKN\",\"TableBody\":\"GameTranscript_TableBody__3aoc-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CharacterCardContainer\":\"CharacterCard_CharacterCardContainer__2xqq3\",\"CharacterCardImageContainer\":\"CharacterCard_CharacterCardImageContainer__2pXA8\",\"CharacterCardImage\":\"CharacterCard_CharacterCardImage__11cJ1\",\"CharacterCardTextContainer\":\"CharacterCard_CharacterCardTextContainer__3kRON\"};"],"sourceRoot":""}